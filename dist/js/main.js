!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Navigo=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function t(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function n(e,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?"#":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&t(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",e?this.root=n?e.replace(/\/$/,"/"+this._hash):e.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function o(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"^/")}function i(e){return e.replace(/\/$/,"").split("/").length}function s(e,t){return i(t)-i(e)}function r(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var i=function(e){var t=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(n.PARAMETER_REGEXP,function(e,o,i){return t.push(i),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:t}}(o(t.route)),s=i.regexp,r=i.paramNames,a=e.replace(/^\/+/,"/").match(s),h=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}(a,r);return!!a&&{match:a,route:t,params:h}}).filter(function(e){return e})}(e,t)[0]||!1}function a(e,t){var n=t.map(function(t){return""===t.route||"*"===t.route?e:e.split(new RegExp(t.route+"($|/)"))[0]}),i=o(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:i}function h(e,n,o){var i,s=function(e){return e.split(/\?(.*)?$/)[0]};return void 0===o&&(o="#"),t()&&!n?s(e).split(o)[0]:(i=e.split(o)).length>1?s(i[1]):s(i[0])}function u(t,n,o){if(n&&"object"===(void 0===n?"undefined":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}return n.prototype={helpers:{match:r,root:a,clean:o,getOnlyURL:h},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(e=e.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+e),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if("/"===o[0]){var r=o[1];"object"===e(o[1])&&(r=o[1].uses),this._defaultHandler={handler:r,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else"object"===e(o[0])&&Object.keys(o[0]).sort(s).forEach(function(e){t.on(e,o[0][e])});return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var n,o,i=this,s=(e||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(s=s.replace(new RegExp("^/"+this._hash),"/"));var a=function(e){return e.split(/\?(.*)?$/).slice(1).join("")}(e||this._cLoc()),l=h(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&a===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=r(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:a,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,u(function(){u(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,a)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(""===l||"/"===l||l===this._hash||function(e,n,o){if(t()&&!n)return!1;if(!e.match(o))return!1;var i=e.split(o);return i.length<2||""===i[1]}(l,this._useHash,this._hash))?(u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(a)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(a)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var e=this;"undefined"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener("click",function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\/+$/,"").replace(/^\/+/,"/")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===e)for(i in n=o.route,t)n=n.toString().replace(":"+i,t[i]);return n},"");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){t()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute("href")},hooks:function(e){this._genericHooks=e},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof t&&(t=encodeURI(t)),this._routes.push("object"===(void 0===n?"undefined":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc().split("?")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},n.PARAMETER_REGEXP=/([:*])(\w+)/g,n.WILDCARD_REGEXP=/\*/g,n.REPLACE_VARIABLE_REGEXP="([^/]+)",n.REPLACE_WILDCARD="(?:.*)",n.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",n.MATCH_REGEXP_FLAGS="",n});
//# sourceMappingURL=navigo.min.js.map
/* -----------------------------------------------
/* Author : Vincent Garreau  - vincentgarreau.com
/* MIT license: http://opensource.org/licenses/MIT
/* Demo / Generator : vincentgarreau.com/particles.js
/* GitHub : github.com/VincentGarreau/particles.js
/* How to use? : Check the GitHub README
/* v2.0.0
/* ----------------------------------------------- */
function hexToRgb(e){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(a,function(e,a,t,i){return a+a+t+t+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function clamp(e,a,t){return Math.min(Math.max(e,a),t)}function isInArray(e,a){return a.indexOf(e)>-1}var pJS=function(e,a){var t=document.querySelector("#"+e+" > .particles-js-canvas-el");this.pJS={canvas:{el:t,w:t.offsetWidth,h:t.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var i=this.pJS;a&&Object.deepExtend(i,a),i.tmp.obj={size_value:i.particles.size.value,size_anim_speed:i.particles.size.anim.speed,move_speed:i.particles.move.speed,line_linked_distance:i.particles.line_linked.distance,line_linked_width:i.particles.line_linked.width,mode_grab_distance:i.interactivity.modes.grab.distance,mode_bubble_distance:i.interactivity.modes.bubble.distance,mode_bubble_size:i.interactivity.modes.bubble.size,mode_repulse_distance:i.interactivity.modes.repulse.distance},i.fn.retinaInit=function(){i.retina_detect&&window.devicePixelRatio>1?(i.canvas.pxratio=window.devicePixelRatio,i.tmp.retina=!0):(i.canvas.pxratio=1,i.tmp.retina=!1),i.canvas.w=i.canvas.el.offsetWidth*i.canvas.pxratio,i.canvas.h=i.canvas.el.offsetHeight*i.canvas.pxratio,i.particles.size.value=i.tmp.obj.size_value*i.canvas.pxratio,i.particles.size.anim.speed=i.tmp.obj.size_anim_speed*i.canvas.pxratio,i.particles.move.speed=i.tmp.obj.move_speed*i.canvas.pxratio,i.particles.line_linked.distance=i.tmp.obj.line_linked_distance*i.canvas.pxratio,i.interactivity.modes.grab.distance=i.tmp.obj.mode_grab_distance*i.canvas.pxratio,i.interactivity.modes.bubble.distance=i.tmp.obj.mode_bubble_distance*i.canvas.pxratio,i.particles.line_linked.width=i.tmp.obj.line_linked_width*i.canvas.pxratio,i.interactivity.modes.bubble.size=i.tmp.obj.mode_bubble_size*i.canvas.pxratio,i.interactivity.modes.repulse.distance=i.tmp.obj.mode_repulse_distance*i.canvas.pxratio},i.fn.canvasInit=function(){i.canvas.ctx=i.canvas.el.getContext("2d")},i.fn.canvasSize=function(){i.canvas.el.width=i.canvas.w,i.canvas.el.height=i.canvas.h,i&&i.interactivity.events.resize&&window.addEventListener("resize",function(){i.canvas.w=i.canvas.el.offsetWidth,i.canvas.h=i.canvas.el.offsetHeight,i.tmp.retina&&(i.canvas.w*=i.canvas.pxratio,i.canvas.h*=i.canvas.pxratio),i.canvas.el.width=i.canvas.w,i.canvas.el.height=i.canvas.h,i.particles.move.enable||(i.fn.particlesEmpty(),i.fn.particlesCreate(),i.fn.particlesDraw(),i.fn.vendors.densityAutoParticles()),i.fn.vendors.densityAutoParticles()})},i.fn.canvasPaint=function(){i.canvas.ctx.fillRect(0,0,i.canvas.w,i.canvas.h)},i.fn.canvasClear=function(){i.canvas.ctx.clearRect(0,0,i.canvas.w,i.canvas.h)},i.fn.particle=function(e,a,t){if(this.radius=(i.particles.size.random?Math.random():1)*i.particles.size.value,i.particles.size.anim.enable&&(this.size_status=!1,this.vs=i.particles.size.anim.speed/100,i.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=t?t.x:Math.random()*i.canvas.w,this.y=t?t.y:Math.random()*i.canvas.h,this.x>i.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>i.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),i.particles.move.bounce&&i.fn.vendors.checkOverlap(this,t),this.color={},"object"==typeof e.value)if(e.value instanceof Array){var s=e.value[Math.floor(Math.random()*i.particles.color.value.length)];this.color.rgb=hexToRgb(s)}else void 0!=e.value.r&&void 0!=e.value.g&&void 0!=e.value.b&&(this.color.rgb={r:e.value.r,g:e.value.g,b:e.value.b}),void 0!=e.value.h&&void 0!=e.value.s&&void 0!=e.value.l&&(this.color.hsl={h:e.value.h,s:e.value.s,l:e.value.l});else"random"==e.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof e.value&&(this.color=e,this.color.rgb=hexToRgb(this.color.value));this.opacity=(i.particles.opacity.random?Math.random():1)*i.particles.opacity.value,i.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=i.particles.opacity.anim.speed/100,i.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var n={};switch(i.particles.move.direction){case"top":n={x:0,y:-1};break;case"top-right":n={x:.5,y:-.5};break;case"right":n={x:1,y:-0};break;case"bottom-right":n={x:.5,y:.5};break;case"bottom":n={x:0,y:1};break;case"bottom-left":n={x:-.5,y:1};break;case"left":n={x:-1,y:0};break;case"top-left":n={x:-.5,y:-.5};break;default:n={x:0,y:0}}i.particles.move.straight?(this.vx=n.x,this.vy=n.y,i.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=n.x+Math.random()-.5,this.vy=n.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var r=i.particles.shape.type;if("object"==typeof r){if(r instanceof Array){var c=r[Math.floor(Math.random()*r.length)];this.shape=c}}else this.shape=r;if("image"==this.shape){var o=i.particles.shape;this.img={src:o.image.src,ratio:o.image.width/o.image.height},this.img.ratio||(this.img.ratio=1),"svg"==i.tmp.img_type&&void 0!=i.tmp.source_svg&&(i.fn.vendors.createSvgImg(this),i.tmp.pushing&&(this.img.loaded=!1))}},i.fn.particle.prototype.draw=function(){function e(){i.canvas.ctx.drawImage(r,a.x-t,a.y-t,2*t,2*t/a.img.ratio)}var a=this;if(void 0!=a.radius_bubble)var t=a.radius_bubble;else var t=a.radius;if(void 0!=a.opacity_bubble)var s=a.opacity_bubble;else var s=a.opacity;if(a.color.rgb)var n="rgba("+a.color.rgb.r+","+a.color.rgb.g+","+a.color.rgb.b+","+s+")";else var n="hsla("+a.color.hsl.h+","+a.color.hsl.s+"%,"+a.color.hsl.l+"%,"+s+")";switch(i.canvas.ctx.fillStyle=n,i.canvas.ctx.beginPath(),a.shape){case"circle":i.canvas.ctx.arc(a.x,a.y,t,0,2*Math.PI,!1);break;case"edge":i.canvas.ctx.rect(a.x-t,a.y-t,2*t,2*t);break;case"triangle":i.fn.vendors.drawShape(i.canvas.ctx,a.x-t,a.y+t/1.66,2*t,3,2);break;case"polygon":i.fn.vendors.drawShape(i.canvas.ctx,a.x-t/(i.particles.shape.polygon.nb_sides/3.5),a.y-t/.76,2.66*t/(i.particles.shape.polygon.nb_sides/3),i.particles.shape.polygon.nb_sides,1);break;case"star":i.fn.vendors.drawShape(i.canvas.ctx,a.x-2*t/(i.particles.shape.polygon.nb_sides/4),a.y-t/1.52,2*t*2.66/(i.particles.shape.polygon.nb_sides/3),i.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==i.tmp.img_type)var r=a.img.obj;else var r=i.tmp.img_obj;r&&e()}i.canvas.ctx.closePath(),i.particles.shape.stroke.width>0&&(i.canvas.ctx.strokeStyle=i.particles.shape.stroke.color,i.canvas.ctx.lineWidth=i.particles.shape.stroke.width,i.canvas.ctx.stroke()),i.canvas.ctx.fill()},i.fn.particlesCreate=function(){for(var e=0;e<i.particles.number.value;e++)i.particles.array.push(new i.fn.particle(i.particles.color,i.particles.opacity.value))},i.fn.particlesUpdate=function(){for(var e=0;e<i.particles.array.length;e++){var a=i.particles.array[e];if(i.particles.move.enable){var t=i.particles.move.speed/2;a.x+=a.vx*t,a.y+=a.vy*t}if(i.particles.opacity.anim.enable&&(1==a.opacity_status?(a.opacity>=i.particles.opacity.value&&(a.opacity_status=!1),a.opacity+=a.vo):(a.opacity<=i.particles.opacity.anim.opacity_min&&(a.opacity_status=!0),a.opacity-=a.vo),a.opacity<0&&(a.opacity=0)),i.particles.size.anim.enable&&(1==a.size_status?(a.radius>=i.particles.size.value&&(a.size_status=!1),a.radius+=a.vs):(a.radius<=i.particles.size.anim.size_min&&(a.size_status=!0),a.radius-=a.vs),a.radius<0&&(a.radius=0)),"bounce"==i.particles.move.out_mode)var s={x_left:a.radius,x_right:i.canvas.w,y_top:a.radius,y_bottom:i.canvas.h};else var s={x_left:-a.radius,x_right:i.canvas.w+a.radius,y_top:-a.radius,y_bottom:i.canvas.h+a.radius};switch(a.x-a.radius>i.canvas.w?(a.x=s.x_left,a.y=Math.random()*i.canvas.h):a.x+a.radius<0&&(a.x=s.x_right,a.y=Math.random()*i.canvas.h),a.y-a.radius>i.canvas.h?(a.y=s.y_top,a.x=Math.random()*i.canvas.w):a.y+a.radius<0&&(a.y=s.y_bottom,a.x=Math.random()*i.canvas.w),i.particles.move.out_mode){case"bounce":a.x+a.radius>i.canvas.w?a.vx=-a.vx:a.x-a.radius<0&&(a.vx=-a.vx),a.y+a.radius>i.canvas.h?a.vy=-a.vy:a.y-a.radius<0&&(a.vy=-a.vy)}if(isInArray("grab",i.interactivity.events.onhover.mode)&&i.fn.modes.grabParticle(a),(isInArray("bubble",i.interactivity.events.onhover.mode)||isInArray("bubble",i.interactivity.events.onclick.mode))&&i.fn.modes.bubbleParticle(a),(isInArray("repulse",i.interactivity.events.onhover.mode)||isInArray("repulse",i.interactivity.events.onclick.mode))&&i.fn.modes.repulseParticle(a),i.particles.line_linked.enable||i.particles.move.attract.enable)for(var n=e+1;n<i.particles.array.length;n++){var r=i.particles.array[n];i.particles.line_linked.enable&&i.fn.interact.linkParticles(a,r),i.particles.move.attract.enable&&i.fn.interact.attractParticles(a,r),i.particles.move.bounce&&i.fn.interact.bounceParticles(a,r)}}},i.fn.particlesDraw=function(){i.canvas.ctx.clearRect(0,0,i.canvas.w,i.canvas.h),i.fn.particlesUpdate();for(var e=0;e<i.particles.array.length;e++){var a=i.particles.array[e];a.draw()}},i.fn.particlesEmpty=function(){i.particles.array=[]},i.fn.particlesRefresh=function(){cancelRequestAnimFrame(i.fn.checkAnimFrame),cancelRequestAnimFrame(i.fn.drawAnimFrame),i.tmp.source_svg=void 0,i.tmp.img_obj=void 0,i.tmp.count_svg=0,i.fn.particlesEmpty(),i.fn.canvasClear(),i.fn.vendors.start()},i.fn.interact.linkParticles=function(e,a){var t=e.x-a.x,s=e.y-a.y,n=Math.sqrt(t*t+s*s);if(n<=i.particles.line_linked.distance){var r=i.particles.line_linked.opacity-n/(1/i.particles.line_linked.opacity)/i.particles.line_linked.distance;if(r>0){var c=i.particles.line_linked.color_rgb_line;i.canvas.ctx.strokeStyle="rgba("+c.r+","+c.g+","+c.b+","+r+")",i.canvas.ctx.lineWidth=i.particles.line_linked.width,i.canvas.ctx.beginPath(),i.canvas.ctx.moveTo(e.x,e.y),i.canvas.ctx.lineTo(a.x,a.y),i.canvas.ctx.stroke(),i.canvas.ctx.closePath()}}},i.fn.interact.attractParticles=function(e,a){var t=e.x-a.x,s=e.y-a.y,n=Math.sqrt(t*t+s*s);if(n<=i.particles.line_linked.distance){var r=t/(1e3*i.particles.move.attract.rotateX),c=s/(1e3*i.particles.move.attract.rotateY);e.vx-=r,e.vy-=c,a.vx+=r,a.vy+=c}},i.fn.interact.bounceParticles=function(e,a){var t=e.x-a.x,i=e.y-a.y,s=Math.sqrt(t*t+i*i),n=e.radius+a.radius;n>=s&&(e.vx=-e.vx,e.vy=-e.vy,a.vx=-a.vx,a.vy=-a.vy)},i.fn.modes.pushParticles=function(e,a){i.tmp.pushing=!0;for(var t=0;e>t;t++)i.particles.array.push(new i.fn.particle(i.particles.color,i.particles.opacity.value,{x:a?a.pos_x:Math.random()*i.canvas.w,y:a?a.pos_y:Math.random()*i.canvas.h})),t==e-1&&(i.particles.move.enable||i.fn.particlesDraw(),i.tmp.pushing=!1)},i.fn.modes.removeParticles=function(e){i.particles.array.splice(0,e),i.particles.move.enable||i.fn.particlesDraw()},i.fn.modes.bubbleParticle=function(e){function a(){e.opacity_bubble=e.opacity,e.radius_bubble=e.radius}function t(a,t,s,n,c){if(a!=t)if(i.tmp.bubble_duration_end){if(void 0!=s){var o=n-p*(n-a)/i.interactivity.modes.bubble.duration,l=a-o;d=a+l,"size"==c&&(e.radius_bubble=d),"opacity"==c&&(e.opacity_bubble=d)}}else if(r<=i.interactivity.modes.bubble.distance){if(void 0!=s)var v=s;else var v=n;if(v!=a){var d=n-p*(n-a)/i.interactivity.modes.bubble.duration;"size"==c&&(e.radius_bubble=d),"opacity"==c&&(e.opacity_bubble=d)}}else"size"==c&&(e.radius_bubble=void 0),"opacity"==c&&(e.opacity_bubble=void 0)}if(i.interactivity.events.onhover.enable&&isInArray("bubble",i.interactivity.events.onhover.mode)){var s=e.x-i.interactivity.mouse.pos_x,n=e.y-i.interactivity.mouse.pos_y,r=Math.sqrt(s*s+n*n),c=1-r/i.interactivity.modes.bubble.distance;if(r<=i.interactivity.modes.bubble.distance){if(c>=0&&"mousemove"==i.interactivity.status){if(i.interactivity.modes.bubble.size!=i.particles.size.value)if(i.interactivity.modes.bubble.size>i.particles.size.value){var o=e.radius+i.interactivity.modes.bubble.size*c;o>=0&&(e.radius_bubble=o)}else{var l=e.radius-i.interactivity.modes.bubble.size,o=e.radius-l*c;o>0?e.radius_bubble=o:e.radius_bubble=0}if(i.interactivity.modes.bubble.opacity!=i.particles.opacity.value)if(i.interactivity.modes.bubble.opacity>i.particles.opacity.value){var v=i.interactivity.modes.bubble.opacity*c;v>e.opacity&&v<=i.interactivity.modes.bubble.opacity&&(e.opacity_bubble=v)}else{var v=e.opacity-(i.particles.opacity.value-i.interactivity.modes.bubble.opacity)*c;v<e.opacity&&v>=i.interactivity.modes.bubble.opacity&&(e.opacity_bubble=v)}}}else a();"mouseleave"==i.interactivity.status&&a()}else if(i.interactivity.events.onclick.enable&&isInArray("bubble",i.interactivity.events.onclick.mode)){if(i.tmp.bubble_clicking){var s=e.x-i.interactivity.mouse.click_pos_x,n=e.y-i.interactivity.mouse.click_pos_y,r=Math.sqrt(s*s+n*n),p=((new Date).getTime()-i.interactivity.mouse.click_time)/1e3;p>i.interactivity.modes.bubble.duration&&(i.tmp.bubble_duration_end=!0),p>2*i.interactivity.modes.bubble.duration&&(i.tmp.bubble_clicking=!1,i.tmp.bubble_duration_end=!1)}i.tmp.bubble_clicking&&(t(i.interactivity.modes.bubble.size,i.particles.size.value,e.radius_bubble,e.radius,"size"),t(i.interactivity.modes.bubble.opacity,i.particles.opacity.value,e.opacity_bubble,e.opacity,"opacity"))}},i.fn.modes.repulseParticle=function(e){function a(){var a=Math.atan2(d,p);if(e.vx=u*Math.cos(a),e.vy=u*Math.sin(a),"bounce"==i.particles.move.out_mode){var t={x:e.x+e.vx,y:e.y+e.vy};t.x+e.radius>i.canvas.w?e.vx=-e.vx:t.x-e.radius<0&&(e.vx=-e.vx),t.y+e.radius>i.canvas.h?e.vy=-e.vy:t.y-e.radius<0&&(e.vy=-e.vy)}}if(i.interactivity.events.onhover.enable&&isInArray("repulse",i.interactivity.events.onhover.mode)&&"mousemove"==i.interactivity.status){var t=e.x-i.interactivity.mouse.pos_x,s=e.y-i.interactivity.mouse.pos_y,n=Math.sqrt(t*t+s*s),r={x:t/n,y:s/n},c=i.interactivity.modes.repulse.distance,o=100,l=clamp(1/c*(-1*Math.pow(n/c,2)+1)*c*o,0,50),v={x:e.x+r.x*l,y:e.y+r.y*l};"bounce"==i.particles.move.out_mode?(v.x-e.radius>0&&v.x+e.radius<i.canvas.w&&(e.x=v.x),v.y-e.radius>0&&v.y+e.radius<i.canvas.h&&(e.y=v.y)):(e.x=v.x,e.y=v.y)}else if(i.interactivity.events.onclick.enable&&isInArray("repulse",i.interactivity.events.onclick.mode))if(i.tmp.repulse_finish||(i.tmp.repulse_count++,i.tmp.repulse_count==i.particles.array.length&&(i.tmp.repulse_finish=!0)),i.tmp.repulse_clicking){var c=Math.pow(i.interactivity.modes.repulse.distance/6,3),p=i.interactivity.mouse.click_pos_x-e.x,d=i.interactivity.mouse.click_pos_y-e.y,m=p*p+d*d,u=-c/m*1;c>=m&&a()}else 0==i.tmp.repulse_clicking&&(e.vx=e.vx_i,e.vy=e.vy_i)},i.fn.modes.grabParticle=function(e){if(i.interactivity.events.onhover.enable&&"mousemove"==i.interactivity.status){var a=e.x-i.interactivity.mouse.pos_x,t=e.y-i.interactivity.mouse.pos_y,s=Math.sqrt(a*a+t*t);if(s<=i.interactivity.modes.grab.distance){var n=i.interactivity.modes.grab.line_linked.opacity-s/(1/i.interactivity.modes.grab.line_linked.opacity)/i.interactivity.modes.grab.distance;if(n>0){var r=i.particles.line_linked.color_rgb_line;i.canvas.ctx.strokeStyle="rgba("+r.r+","+r.g+","+r.b+","+n+")",i.canvas.ctx.lineWidth=i.particles.line_linked.width,i.canvas.ctx.beginPath(),i.canvas.ctx.moveTo(e.x,e.y),i.canvas.ctx.lineTo(i.interactivity.mouse.pos_x,i.interactivity.mouse.pos_y),i.canvas.ctx.stroke(),i.canvas.ctx.closePath()}}}},i.fn.vendors.eventsListeners=function(){"window"==i.interactivity.detect_on?i.interactivity.el=window:i.interactivity.el=i.canvas.el,(i.interactivity.events.onhover.enable||i.interactivity.events.onclick.enable)&&(i.interactivity.el.addEventListener("mousemove",function(e){if(i.interactivity.el==window)var a=e.clientX,t=e.clientY;else var a=e.offsetX||e.clientX,t=e.offsetY||e.clientY;i.interactivity.mouse.pos_x=a,i.interactivity.mouse.pos_y=t,i.tmp.retina&&(i.interactivity.mouse.pos_x*=i.canvas.pxratio,i.interactivity.mouse.pos_y*=i.canvas.pxratio),i.interactivity.status="mousemove"}),i.interactivity.el.addEventListener("mouseleave",function(e){i.interactivity.mouse.pos_x=null,i.interactivity.mouse.pos_y=null,i.interactivity.status="mouseleave"})),i.interactivity.events.onclick.enable&&i.interactivity.el.addEventListener("click",function(){if(i.interactivity.mouse.click_pos_x=i.interactivity.mouse.pos_x,i.interactivity.mouse.click_pos_y=i.interactivity.mouse.pos_y,i.interactivity.mouse.click_time=(new Date).getTime(),i.interactivity.events.onclick.enable)switch(i.interactivity.events.onclick.mode){case"push":i.particles.move.enable?i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb,i.interactivity.mouse):1==i.interactivity.modes.push.particles_nb?i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb,i.interactivity.mouse):i.interactivity.modes.push.particles_nb>1&&i.fn.modes.pushParticles(i.interactivity.modes.push.particles_nb);break;case"remove":i.fn.modes.removeParticles(i.interactivity.modes.remove.particles_nb);break;case"bubble":i.tmp.bubble_clicking=!0;break;case"repulse":i.tmp.repulse_clicking=!0,i.tmp.repulse_count=0,i.tmp.repulse_finish=!1,setTimeout(function(){i.tmp.repulse_clicking=!1},1e3*i.interactivity.modes.repulse.duration)}})},i.fn.vendors.densityAutoParticles=function(){if(i.particles.number.density.enable){var e=i.canvas.el.width*i.canvas.el.height/1e3;i.tmp.retina&&(e/=2*i.canvas.pxratio);var a=e*i.particles.number.value/i.particles.number.density.value_area,t=i.particles.array.length-a;0>t?i.fn.modes.pushParticles(Math.abs(t)):i.fn.modes.removeParticles(t)}},i.fn.vendors.checkOverlap=function(e,a){for(var t=0;t<i.particles.array.length;t++){var s=i.particles.array[t],n=e.x-s.x,r=e.y-s.y,c=Math.sqrt(n*n+r*r);c<=e.radius+s.radius&&(e.x=a?a.x:Math.random()*i.canvas.w,e.y=a?a.y:Math.random()*i.canvas.h,i.fn.vendors.checkOverlap(e))}},i.fn.vendors.createSvgImg=function(e){var a=i.tmp.source_svg,t=/#([0-9A-F]{3,6})/gi,s=a.replace(t,function(a,t,i,s){if(e.color.rgb)var n="rgba("+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+","+e.opacity+")";else var n="hsla("+e.color.hsl.h+","+e.color.hsl.s+"%,"+e.color.hsl.l+"%,"+e.opacity+")";return n}),n=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),r=window.URL||window.webkitURL||window,c=r.createObjectURL(n),o=new Image;o.addEventListener("load",function(){e.img.obj=o,e.img.loaded=!0,r.revokeObjectURL(c),i.tmp.count_svg++}),o.src=c},i.fn.vendors.destroypJS=function(){cancelAnimationFrame(i.fn.drawAnimFrame),t.remove(),pJSDom=null},i.fn.vendors.drawShape=function(e,a,t,i,s,n){var r=s*n,c=s/n,o=180*(c-2)/c,l=Math.PI-Math.PI*o/180;e.save(),e.beginPath(),e.translate(a,t),e.moveTo(0,0);for(var v=0;r>v;v++)e.lineTo(i,0),e.translate(i,0),e.rotate(l);e.fill(),e.restore()},i.fn.vendors.exportImg=function(){window.open(i.canvas.el.toDataURL("image/png"),"_blank")},i.fn.vendors.loadImg=function(e){if(i.tmp.img_error=void 0,""!=i.particles.shape.image.src)if("svg"==e){var a=new XMLHttpRequest;a.open("GET",i.particles.shape.image.src),a.onreadystatechange=function(e){4==a.readyState&&(200==a.status?(i.tmp.source_svg=e.currentTarget.response,i.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),i.tmp.img_error=!0))},a.send()}else{var t=new Image;t.addEventListener("load",function(){i.tmp.img_obj=t,i.fn.vendors.checkBeforeDraw()}),t.src=i.particles.shape.image.src}else console.log("Error pJS - No image.src"),i.tmp.img_error=!0},i.fn.vendors.draw=function(){"image"==i.particles.shape.type?"svg"==i.tmp.img_type?i.tmp.count_svg>=i.particles.number.value?(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame)):i.tmp.img_error||(i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw)):void 0!=i.tmp.img_obj?(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame)):i.tmp.img_error||(i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw)):(i.fn.particlesDraw(),i.particles.move.enable?i.fn.drawAnimFrame=requestAnimFrame(i.fn.vendors.draw):cancelRequestAnimFrame(i.fn.drawAnimFrame))},i.fn.vendors.checkBeforeDraw=function(){"image"==i.particles.shape.type?"svg"==i.tmp.img_type&&void 0==i.tmp.source_svg?i.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(i.tmp.checkAnimFrame),i.tmp.img_error||(i.fn.vendors.init(),i.fn.vendors.draw())):(i.fn.vendors.init(),i.fn.vendors.draw())},i.fn.vendors.init=function(){i.fn.retinaInit(),i.fn.canvasInit(),i.fn.canvasSize(),i.fn.canvasPaint(),i.fn.particlesCreate(),i.fn.vendors.densityAutoParticles(),i.particles.line_linked.color_rgb_line=hexToRgb(i.particles.line_linked.color)},i.fn.vendors.start=function(){isInArray("image",i.particles.shape.type)?(i.tmp.img_type=i.particles.shape.image.src.substr(i.particles.shape.image.src.length-3),i.fn.vendors.loadImg(i.tmp.img_type)):i.fn.vendors.checkBeforeDraw()},i.fn.vendors.eventsListeners(),i.fn.vendors.start()};Object.deepExtend=function(e,a){for(var t in a)a[t]&&a[t].constructor&&a[t].constructor===Object?(e[t]=e[t]||{},arguments.callee(e[t],a[t])):e[t]=a[t];return e},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),window.pJSDom=[],window.particlesJS=function(e,a){"string"!=typeof e&&(a=e,e="particles-js"),e||(e="particles-js");var t=document.getElementById(e),i="particles-js-canvas-el",s=t.getElementsByClassName(i);if(s.length)for(;s.length>0;)t.removeChild(s[0]);var n=document.createElement("canvas");n.className=i,n.style.width="100%",n.style.height="100%";var r=document.getElementById(e).appendChild(n);null!=r&&pJSDom.push(new pJS(e,a))},window.particlesJS.load=function(e,a,t){var i=new XMLHttpRequest;i.open("GET",a),i.onreadystatechange=function(a){if(4==i.readyState)if(200==i.status){var s=JSON.parse(a.currentTarget.response);window.particlesJS(e,s),t&&t()}else console.log("Error pJS - XMLHttpRequest status: "+i.status),console.log("Error pJS - File config not found")},i.send()};
var initPhotoSwipeFromDOM = function (gallerySelector) {

   // parse slide data (url, title, size ...) from DOM elements 
   // (children of gallerySelector)
   var parseThumbnailElements = function (el) {
      var thumbElements = el.childNodes,
         numNodes = thumbElements.length,
         items = [],
         figureEl,
         linkEl,
         size,
         item;

      for (var i = 0; i < numNodes; i++) {

         figureEl = thumbElements[i]; // <figure> element

         // include only element nodes 
         if (figureEl.nodeType !== 1) {
            continue;
         }

         linkEl = figureEl.children[0]; // <a> element

         size = linkEl.getAttribute('data-size').split('x');

         // create slide object
         item = {
            src: linkEl.getAttribute('href'),
            w: parseInt(size[0], 10),
            h: parseInt(size[1], 10)
         };



         if (figureEl.children.length > 1) {
            // <figcaption> content
            item.title = figureEl.children[1].innerHTML;
         }

         if (linkEl.children.length > 0) {
            // <img> thumbnail element, retrieving thumbnail url
            item.msrc = linkEl.children[0].getAttribute('src');
         }

         item.el = figureEl; // save link to element for getThumbBoundsFn
         items.push(item);
      }

      return items;
   };

   // find nearest parent element
   var closest = function closest(el, fn) {
      return el && (fn(el) ? el : closest(el.parentNode, fn));
   };

   // triggers when user clicks on thumbnail
   var onThumbnailsClick = function (e) {
      e = e || window.event;
      e.preventDefault ? e.preventDefault() : e.returnValue = false;

      var eTarget = e.target || e.srcElement;

      // find root element of slide
      var clickedListItem = closest(eTarget, function (el) {
         return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
      });

      if (!clickedListItem) {
         return;
      }

      // find index of clicked item by looping through all child nodes
      // alternatively, you may define index via data- attribute
      var clickedGallery = clickedListItem.parentNode,
         childNodes = clickedListItem.parentNode.childNodes,
         numChildNodes = childNodes.length,
         nodeIndex = 0,
         index;

      for (var i = 0; i < numChildNodes; i++) {
         if (childNodes[i].nodeType !== 1) {
            continue;
         }

         if (childNodes[i] === clickedListItem) {
            index = nodeIndex;
            break;
         }
         nodeIndex++;
      }



      if (index >= 0) {
         // open PhotoSwipe if valid index found
         openPhotoSwipe(index, clickedGallery);
      }
      return false;
   };

   // parse picture index and gallery index from URL (#&pid=1&gid=2)
   var photoswipeParseHash = function () {
      var hash = window.location.hash.substring(1),
         params = {};

      if (hash.length < 5) {
         return params;
      }

      var vars = hash.split('&');
      for (var i = 0; i < vars.length; i++) {
         if (!vars[i]) {
            continue;
         }
         var pair = vars[i].split('=');
         if (pair.length < 2) {
            continue;
         }
         params[pair[0]] = pair[1];
      }

      if (params.gid) {
         params.gid = parseInt(params.gid, 10);
      }

      return params;
   };

   var openPhotoSwipe = function (index, galleryElement, disableAnimation, fromURL) {
      var pswpElement = document.querySelectorAll('.pswp')[0],
         gallery,
         options,
         items;

      items = parseThumbnailElements(galleryElement);

      // define options (if needed)
      options = {

         // define gallery index (for URL)
         galleryUID: galleryElement.getAttribute('data-pswp-uid'),

         getThumbBoundsFn: function (index) {
            // See Options -> getThumbBoundsFn section of documentation for more info
            var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
               pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
               rect = thumbnail.getBoundingClientRect();

            return {
               x: rect.left,
               y: rect.top + pageYScroll,
               w: rect.width
            };
         }

      };

      // PhotoSwipe opened from URL
      if (fromURL) {
         if (options.galleryPIDs) {
            // parse real index when custom PIDs are used 
            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
            for (var j = 0; j < items.length; j++) {
               if (items[j].pid == index) {
                  options.index = j;
                  break;
               }
            }
         } else {
            // in URL indexes start from 1
            options.index = parseInt(index, 10) - 1;
         }
      } else {
         options.index = parseInt(index, 10);
      }

      // exit if index not found
      if (isNaN(options.index)) {
         return;
      }

      if (disableAnimation) {
         options.showAnimationDuration = 0;
      }

      // Pass data to PhotoSwipe and initialize it
      gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
      gallery.init();
   };

   // loop through all gallery elements and bind events
   var galleryElements = document.querySelectorAll(gallerySelector);

   for (var i = 0, l = galleryElements.length; i < l; i++) {
      galleryElements[i].setAttribute('data-pswp-uid', i + 1);
      galleryElements[i].onclick = onThumbnailsClick;
   }

   // Parse URL and open gallery if it contains #&pid=3&gid=1
   var hashData = photoswipeParseHash();
   if (hashData.pid && hashData.gid) {
      openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);
   }
};

// scroll suave
function smoothScroll(location) {
   if (location) {
      var container = document.querySelector("#" + location);
      container.scrollIntoView({
         behavior: "smooth",
         block: "start",
         inline: "nearest"
      });
   } else throw new Error("Variável 'location' não passada no evento de 'click'");
}

// init scroll reveal
function initComponents() {
   window.sr = ScrollReveal();

   if (document.querySelectorAll('.animation-default').length > 0)
      sr.reveal('.animation-default', {
         duration: 1500
      });
   if (document.querySelectorAll('.animation-comoFunciona').length > 0)
      sr.reveal('.animation-comoFunciona', {
         duration: 1000
      }, 500);
   if (document.querySelectorAll('.animation-modulosServicos').length > 0)
      sr.reveal('.animation-modulosServicos', {
         duration: 1000
      }, 500);

   // init galeria
   if (document.querySelectorAll('.gallery').length > 0)
      initPhotoSwipeFromDOM('.gallery');
}

function initParticulasBG() {
   document.body.style.backgroundColor = "#535353";
   if (pJSDom.length == 1) {
      document.getElementById("particles-js").style.display = "block";
      pJSDom[0].pJS.fn.vendors.start();
   } else {
      document.getElementById("particles-js").style.display = "block";
      particlesJS("particles-js", {

         "particles": {
            "number": {
               "value": 80,
               "density": {
                  "enable": true,
                  "value_area": 1000
               }
            },
            "color": {
               "value": "#fff"
            },
            "shape": {
               "type": "circle",
               "stroke": {
                  "width": 0,
                  "color": "#000000"
               },
               "polygon": {
                  "nb_sides": 5
               },
               "image": {
                  "src": "http://image.ibb.co/g9eFcF/logo_transparent.png",
                  "width": 100,
                  "height": 100
               }
            },
            "opacity": {
               "value": 1,
               "random": false,
               "anim": {
                  "enable": false,
                  "speed": 1,
                  "opacity_min": 0.6,
                  "sync": false
               }
            },
            "size": {
               "value": 3,
               "random": true,
               "anim": {
                  "enable": false,
                  "speed": 40,
                  "size_min": 0.1,
                  "sync": false
               }
            },
            "line_linked": {
               "enable": true,
               "distance": 120,
               "color": "#fa7500",
               "opacity": 0.8,
               "width": 1
            },
            "move": {
               "enable": true,
               "speed": 4,
               "direction": "random",
               "random": false,
               "straight": false,
               "out_mode": "bounce",
               "bounce": true,
               "attract": {
                  "enable": true,
                  "rotateX": 3600,
                  "rotateY": 3600
               }
            }
         },

         "interactivity": {
            "detect_on": "canvas",

            "events": {
               "onhover": {
                  "enable": true,
                  "mode": "repulse"
               },
               "onclick": {
                  "enable": false,
                  "mode": "remove"
               },
               "resize": true
            },

            "modes": {
               "repulse": {
                  "distance": 100,
                  "duration": 0.4
               }
            }
         },
         "retina_detect": true
      });
   }
}

function destroyParticulasBG() {
   document.getElementById("particles-js").style.display = "none";
   document.body.style.backgroundColor = "white";
   cancelRequestAnimFrame(pJSDom[0].pJS.fn.checkAnimFrame);
   cancelRequestAnimFrame(pJSDom[0].pJS.fn.drawAnimFrame);
   pJSDom[0].pJS.fn.particlesEmpty();
   pJSDom[0].pJS.fn.canvasClear();
}
function $id(id) {
   return document.getElementById(id);
}

function getNavBar(view) {
   var navBar_color;

   switch (view) {
      case "home":
         navBar_color = "#fb8c00ba";
         break;
      case "web":
         navBar_color = "rgb(0, 122, 250)";
         break;
      case "3d":
         navBar_color = "rgb(88, 86, 214)";
         break;
      case "video":
         navBar_color = "rgb(255, 59, 48)";
         break;
      case "design":
         navBar_color = "rgb(76, 217, 100)";
         break;
      default:
         navBar_color = "#fb8c00";
         break;
   }

   return `
      <nav class="nav strokeEffect" style="background:${navBar_color}">
      <div class="nav-header">
         <div class="nav-header-title">
            <a href="#">
               <img src="img/11Art_White.svg" width="50" height="80" alt=""> </a>
         </div>
      </div>
      <div class="nav-mobileBtn">
         <label for="nav-mobileBtnToogle">
            <p class="nav-mobileBtn-toogleText">Menu</p>
            <span></span>
            <span></span>
            <span></span>
         </label>
      </div>
      <input type="checkbox" id="nav-mobileBtnToogle">
      <div class="nav-links">
         <img class="nav-links-logo" src="img/11Art_White.svg" width="50" height="80" alt="">
         <div class="nav-links-btnFechar">
            <label for="nav-mobileBtnToogle">Fechar X</label>
         </div>
         <hr>
         <a href="#!home">HOME</a>
         <a href="#!servicos">SERVIÇOS</a>
         <a href="#!portfolio">PORTFOLIO</a>
         <a href="#!sobrenos">SOBRE NÓS</a>
         <a class="mtn-4" href="#!contato">CONTATO</a>
      </div>
      </nav>
   `;
}

function loadHTML(url, id, view) {
   req = new XMLHttpRequest();
   req.open('GET', url);
   req.send();
   req.onload = function () {
      var navbar = getNavBar(view);
      $id(id).innerHTML = navbar + req.responseText; // Insere no HTML
      initComponents(); // Iniciar Galeria e Animações suaves
      smoothScroll("view"); // Vá para o topo
      view == "home" ? initParticulasBG() : destroyParticulasBG(); // Constrói/Destrói particulas baseado na view
   };
}

// use #! to hash
router = new Navigo(null, true, '#!');
router.on({
   // 'view' is the id of the div element inside which we render the HTML
   'home': function home() {
      loadHTML('./home.html', 'view', "home");
   },
   'design': function design() {
      loadHTML('./design.html', 'view', "design");
   },
   '3d': function design() {
      loadHTML('./3d.html', 'view', "3d");
   },
   'web': function design() {
      loadHTML('./web.html', 'view', "web");
   },
   'video': function design() {
      loadHTML('./video.html', 'view', "video");
   },
   'sobrenos': function design() {
      loadHTML('./sobrenos.html', 'view', "sobrenos");
   },
   'contato': function design() {
      loadHTML('./contato.html', 'view', "contato");
   },
   'portfolio': function design() {
      loadHTML('./portfolio.html', 'view', "portfolio");
   },
   'servicos': function design() {
      loadHTML('./servicos.html', 'view', "servicos");
   },
});

// set the default route
router.on(function () {
   $id('view').innerHTML = loadHTML('./home.html', 'view', "home");
});

// set the 404 route
router.notFound(function (query) {
   $id('view').innerHTML = '<h1>TODO - NOTFOUND</h1>';
});

router.resolve();
function portfolioFiltrar(modulo){
   var modulosDesign = document.querySelectorAll(".gallery-design");
   var modulos3d = document.querySelectorAll(".gallery-3d");
   var modulosWeb = document.querySelectorAll(".gallery-web");
   var modulosVideo = document.querySelectorAll(".gallery-video");
   var modulosTODOS = [modulosDesign, modulos3d, modulosWeb, modulosVideo];

   escondeModulos(modulosTODOS);

   switch (modulo) {
      case "3d":
         mostraModulo(modulos3d);
      break;

      case "video":
         mostraModulo(modulosVideo);
      break;

      case "web":
         mostraModulo(modulosWeb);
      break;

      case "design":
         mostraModulo(modulosDesign);
      break;
   
      default:
         mostraTodosModulos(modulosTODOS);
      break;
   }
}

function escondeModulos(modulosTODOS){
   modulosTODOS.forEach(function(item){
      item.forEach(function(el){
         el.classList.add("display-none");
      });
   });
}

function mostraModulo(modulo){
   modulo.forEach(function(item){
      item.classList.remove("display-none");
   });
}

function mostraTodosModulos(modulosTODOS){
   modulosTODOS.forEach(function(item){
      item.forEach(function(el){
         el.classList.remove("display-none");
      });
   });   
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnby5taW4uanMiLCJwYXJ0aWNsZXMubWluLmpzIiwic2NyaXB0LmpzIiwicm91dGVDb25maWcuanMiLCJwb3J0Zm9saW9GaWx0cm8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTplLk5hdmlnbz10KCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiB0KCl7cmV0dXJuIShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhd2luZG93Lmhpc3Rvcnl8fCF3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpfWZ1bmN0aW9uIG4oZSxuLG8pe3RoaXMucm9vdD1udWxsLHRoaXMuX3JvdXRlcz1bXSx0aGlzLl91c2VIYXNoPW4sdGhpcy5faGFzaD12b2lkIDA9PT1vP1wiI1wiOm8sdGhpcy5fcGF1c2VkPSExLHRoaXMuX2Rlc3Ryb3llZD0hMSx0aGlzLl9sYXN0Um91dGVSZXNvbHZlZD1udWxsLHRoaXMuX25vdEZvdW5kSGFuZGxlcj1udWxsLHRoaXMuX2RlZmF1bHRIYW5kbGVyPW51bGwsdGhpcy5fdXNlUHVzaFN0YXRlPSFuJiZ0KCksdGhpcy5fb25Mb2NhdGlvbkNoYW5nZT10aGlzLl9vbkxvY2F0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5fZ2VuZXJpY0hvb2tzPW51bGwsdGhpcy5faGlzdG9yeUFQSVVwZGF0ZU1ldGhvZD1cInB1c2hTdGF0ZVwiLGU/dGhpcy5yb290PW4/ZS5yZXBsYWNlKC9cXC8kLyxcIi9cIit0aGlzLl9oYXNoKTplLnJlcGxhY2UoL1xcLyQvLFwiXCIpOm4mJih0aGlzLnJvb3Q9dGhpcy5fY0xvYygpLnNwbGl0KHRoaXMuX2hhc2gpWzBdLnJlcGxhY2UoL1xcLyQvLFwiL1wiK3RoaXMuX2hhc2gpKSx0aGlzLl9saXN0ZW4oKSx0aGlzLnVwZGF0ZVBhZ2VMaW5rcygpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHA/ZTplLnJlcGxhY2UoL1xcLyskLyxcIlwiKS5yZXBsYWNlKC9eXFwvKy8sXCJeL1wiKX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcLyQvLFwiXCIpLnNwbGl0KFwiL1wiKS5sZW5ndGh9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBpKHQpLWkoZSl9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4oYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdKS5tYXAoZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJue3JlZ2V4cDplIGluc3RhbmNlb2YgUmVnRXhwP2U6bmV3IFJlZ0V4cChlLnJlcGxhY2Uobi5QQVJBTUVURVJfUkVHRVhQLGZ1bmN0aW9uKGUsbyxpKXtyZXR1cm4gdC5wdXNoKGkpLG4uUkVQTEFDRV9WQVJJQUJMRV9SRUdFWFB9KS5yZXBsYWNlKG4uV0lMRENBUkRfUkVHRVhQLG4uUkVQTEFDRV9XSUxEQ0FSRCkrbi5GT0xMT1dFRF9CWV9TTEFTSF9SRUdFWFAsbi5NQVRDSF9SRUdFWFBfRkxBR1MpLHBhcmFtTmFtZXM6dH19KG8odC5yb3V0ZSkpLHM9aS5yZWdleHAscj1pLnBhcmFtTmFtZXMsYT1lLnJlcGxhY2UoL15cXC8rLyxcIi9cIikubWF0Y2gocyksaD1mdW5jdGlvbihlLHQpe3JldHVybiAwPT09dC5sZW5ndGg/bnVsbDplP2Uuc2xpY2UoMSxlLmxlbmd0aCkucmVkdWNlKGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gbnVsbD09PWUmJihlPXt9KSxlW3Rbb11dPWRlY29kZVVSSUNvbXBvbmVudChuKSxlfSxudWxsKTpudWxsfShhLHIpO3JldHVybiEhYSYme21hdGNoOmEscm91dGU6dCxwYXJhbXM6aH19KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0oZSx0KVswXXx8ITF9ZnVuY3Rpb24gYShlLHQpe3ZhciBuPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiXCI9PT10LnJvdXRlfHxcIipcIj09PXQucm91dGU/ZTplLnNwbGl0KG5ldyBSZWdFeHAodC5yb3V0ZStcIigkfC8pXCIpKVswXX0pLGk9byhlKTtyZXR1cm4gbi5sZW5ndGg+MT9uLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD50Lmxlbmd0aCYmKGU9dCksZX0sblswXSk6MT09PW4ubGVuZ3RoP25bMF06aX1mdW5jdGlvbiBoKGUsbixvKXt2YXIgaSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9cXD8oLiopPyQvKVswXX07cmV0dXJuIHZvaWQgMD09PW8mJihvPVwiI1wiKSx0KCkmJiFuP3MoZSkuc3BsaXQobylbMF06KGk9ZS5zcGxpdChvKSkubGVuZ3RoPjE/cyhpWzFdKTpzKGlbMF0pfWZ1bmN0aW9uIHUodCxuLG8pe2lmKG4mJlwib2JqZWN0XCI9PT0odm9pZCAwPT09bj9cInVuZGVmaW5lZFwiOmUobikpKXtpZihuLmJlZm9yZSlyZXR1cm4gdm9pZCBuLmJlZm9yZShmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmKHQoKSxuLmFmdGVyJiZuLmFmdGVyKG8pKX0sbyk7aWYobi5hZnRlcilyZXR1cm4gdCgpLHZvaWQobi5hZnRlciYmbi5hZnRlcihvKSl9dCgpfXJldHVybiBuLnByb3RvdHlwZT17aGVscGVyczp7bWF0Y2g6cixyb290OmEsY2xlYW46byxnZXRPbmx5VVJMOmh9LG5hdmlnYXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGU9ZXx8XCJcIix0aGlzLl91c2VQdXNoU3RhdGU/KG49KG49KHQ/XCJcIjp0aGlzLl9nZXRSb290KCkrXCIvXCIpK2UucmVwbGFjZSgvXlxcLysvLFwiL1wiKSkucmVwbGFjZSgvKFteOl0pKFxcL3syLH0pL2csXCIkMS9cIiksaGlzdG9yeVt0aGlzLl9oaXN0b3J5QVBJVXBkYXRlTWV0aG9kXSh7fSxcIlwiLG4pLHRoaXMucmVzb2x2ZSgpKTpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoZT1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIit0aGlzLl9oYXNoKSxcIlwiKSx3aW5kb3cubG9jYXRpb24uaHJlZj13aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jJC8sXCJcIikucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuX2hhc2grXCIuKiRcIiksXCJcIikrdGhpcy5faGFzaCtlKSx0aGlzfSxvbjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aCxvPUFycmF5KG4pLGk9MDtpPG47aSsrKW9baV09YXJndW1lbnRzW2ldO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG9bMF0pdGhpcy5fZGVmYXVsdEhhbmRsZXI9e2hhbmRsZXI6b1swXSxob29rczpvWzFdfTtlbHNlIGlmKG8ubGVuZ3RoPj0yKWlmKFwiL1wiPT09b1swXSl7dmFyIHI9b1sxXTtcIm9iamVjdFwiPT09ZShvWzFdKSYmKHI9b1sxXS51c2VzKSx0aGlzLl9kZWZhdWx0SGFuZGxlcj17aGFuZGxlcjpyLGhvb2tzOm9bMl19fWVsc2UgdGhpcy5fYWRkKG9bMF0sb1sxXSxvWzJdKTtlbHNlXCJvYmplY3RcIj09PWUob1swXSkmJk9iamVjdC5rZXlzKG9bMF0pLnNvcnQocykuZm9yRWFjaChmdW5jdGlvbihlKXt0Lm9uKGUsb1swXVtlXSl9KTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09dGhpcy5fZGVmYXVsdEhhbmRsZXImJmU9PT10aGlzLl9kZWZhdWx0SGFuZGxlci5oYW5kbGVyP3RoaXMuX2RlZmF1bHRIYW5kbGVyPW51bGw6bnVsbCE9PXRoaXMuX25vdEZvdW5kSGFuZGxlciYmZT09PXRoaXMuX25vdEZvdW5kSGFuZGxlci5oYW5kbGVyJiYodGhpcy5fbm90Rm91bmRIYW5kbGVyPW51bGwpLHRoaXMuX3JvdXRlcz10aGlzLl9yb3V0ZXMucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uaGFuZGxlciE9PWUmJnQucHVzaChuKSx0fSxbXSksdGhpc30sbm90Rm91bmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbm90Rm91bmRIYW5kbGVyPXtoYW5kbGVyOmUsaG9va3M6dH0sdGhpc30scmVzb2x2ZTpmdW5jdGlvbihlKXt2YXIgbixvLGk9dGhpcyxzPShlfHx0aGlzLl9jTG9jKCkpLnJlcGxhY2UodGhpcy5fZ2V0Um9vdCgpLFwiXCIpO3RoaXMuX3VzZUhhc2gmJihzPXMucmVwbGFjZShuZXcgUmVnRXhwKFwiXi9cIit0aGlzLl9oYXNoKSxcIi9cIikpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9cXD8oLiopPyQvKS5zbGljZSgxKS5qb2luKFwiXCIpfShlfHx0aGlzLl9jTG9jKCkpLGw9aChzLHRoaXMuX3VzZUhhc2gsdGhpcy5faGFzaCk7cmV0dXJuIXRoaXMuX3BhdXNlZCYmKHRoaXMuX2xhc3RSb3V0ZVJlc29sdmVkJiZsPT09dGhpcy5fbGFzdFJvdXRlUmVzb2x2ZWQudXJsJiZhPT09dGhpcy5fbGFzdFJvdXRlUmVzb2x2ZWQucXVlcnk/KHRoaXMuX2xhc3RSb3V0ZVJlc29sdmVkLmhvb2tzJiZ0aGlzLl9sYXN0Um91dGVSZXNvbHZlZC5ob29rcy5hbHJlYWR5JiZ0aGlzLl9sYXN0Um91dGVSZXNvbHZlZC5ob29rcy5hbHJlYWR5KHRoaXMuX2xhc3RSb3V0ZVJlc29sdmVkLnBhcmFtcyksITEpOihvPXIobCx0aGlzLl9yb3V0ZXMpKT8odGhpcy5fY2FsbExlYXZlKCksdGhpcy5fbGFzdFJvdXRlUmVzb2x2ZWQ9e3VybDpsLHF1ZXJ5OmEsaG9va3M6by5yb3V0ZS5ob29rcyxwYXJhbXM6by5wYXJhbXMsbmFtZTpvLnJvdXRlLm5hbWV9LG49by5yb3V0ZS5oYW5kbGVyLHUoZnVuY3Rpb24oKXt1KGZ1bmN0aW9uKCl7by5yb3V0ZS5yb3V0ZSBpbnN0YW5jZW9mIFJlZ0V4cD9uLmFwcGx5KHZvaWQgMCxvLm1hdGNoLnNsaWNlKDEsby5tYXRjaC5sZW5ndGgpKTpuKG8ucGFyYW1zLGEpfSxvLnJvdXRlLmhvb2tzLG8ucGFyYW1zLGkuX2dlbmVyaWNIb29rcyl9LHRoaXMuX2dlbmVyaWNIb29rcyxvLnBhcmFtcyksbyk6dGhpcy5fZGVmYXVsdEhhbmRsZXImJihcIlwiPT09bHx8XCIvXCI9PT1sfHxsPT09dGhpcy5faGFzaHx8ZnVuY3Rpb24oZSxuLG8pe2lmKHQoKSYmIW4pcmV0dXJuITE7aWYoIWUubWF0Y2gobykpcmV0dXJuITE7dmFyIGk9ZS5zcGxpdChvKTtyZXR1cm4gaS5sZW5ndGg8Mnx8XCJcIj09PWlbMV19KGwsdGhpcy5fdXNlSGFzaCx0aGlzLl9oYXNoKSk/KHUoZnVuY3Rpb24oKXt1KGZ1bmN0aW9uKCl7aS5fY2FsbExlYXZlKCksaS5fbGFzdFJvdXRlUmVzb2x2ZWQ9e3VybDpsLHF1ZXJ5OmEsaG9va3M6aS5fZGVmYXVsdEhhbmRsZXIuaG9va3N9LGkuX2RlZmF1bHRIYW5kbGVyLmhhbmRsZXIoYSl9LGkuX2RlZmF1bHRIYW5kbGVyLmhvb2tzKX0sdGhpcy5fZ2VuZXJpY0hvb2tzKSwhMCk6KHRoaXMuX25vdEZvdW5kSGFuZGxlciYmdShmdW5jdGlvbigpe3UoZnVuY3Rpb24oKXtpLl9jYWxsTGVhdmUoKSxpLl9sYXN0Um91dGVSZXNvbHZlZD17dXJsOmwscXVlcnk6YSxob29rczppLl9ub3RGb3VuZEhhbmRsZXIuaG9va3N9LGkuX25vdEZvdW5kSGFuZGxlci5oYW5kbGVyKGEpfSxpLl9ub3RGb3VuZEhhbmRsZXIuaG9va3MpfSx0aGlzLl9nZW5lcmljSG9va3MpLCExKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9yb3V0ZXM9W10sdGhpcy5fZGVzdHJveWVkPSEwLHRoaXMuX2xhc3RSb3V0ZVJlc29sdmVkPW51bGwsdGhpcy5fZ2VuZXJpY0hvb2tzPW51bGwsY2xlYXJUaW1lb3V0KHRoaXMuX2xpc3RlbmluZ0ludGVydmFsKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLHRoaXMuX29uTG9jYXRpb25DaGFuZ2UpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uTG9jYXRpb25DaGFuZ2UpKX0sdXBkYXRlUGFnZUxpbmtzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJnRoaXMuX2ZpbmRMaW5rcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5oYXNMaXN0ZW5lckF0dGFjaGVkfHwodC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihuKXtpZigobi5jdHJsS2V5fHxuLm1ldGFLZXkpJiZcImFcIj09bi50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiExO3ZhciBvPWUuZ2V0TGlua1BhdGgodCk7ZS5fZGVzdHJveWVkfHwobi5wcmV2ZW50RGVmYXVsdCgpLGUubmF2aWdhdGUoby5yZXBsYWNlKC9cXC8rJC8sXCJcIikucmVwbGFjZSgvXlxcLysvLFwiL1wiKSkpfSksdC5oYXNMaXN0ZW5lckF0dGFjaGVkPSEwKX0pfSxnZW5lcmF0ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10aGlzLl9yb3V0ZXMucmVkdWNlKGZ1bmN0aW9uKG4sbyl7dmFyIGk7aWYoby5uYW1lPT09ZSlmb3IoaSBpbiBuPW8ucm91dGUsdCluPW4udG9TdHJpbmcoKS5yZXBsYWNlKFwiOlwiK2ksdFtpXSk7cmV0dXJuIG59LFwiXCIpO3JldHVybiB0aGlzLl91c2VIYXNoP3RoaXMuX2hhc2grbjpufSxsaW5rOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXRSb290KCkrZX0scGF1c2U6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX3BhdXNlZD1lLHRoaXMuX2hpc3RvcnlBUElVcGRhdGVNZXRob2Q9ZT9cInJlcGxhY2VTdGF0ZVwiOlwicHVzaFN0YXRlXCJ9LHJlc3VtZTpmdW5jdGlvbigpe3RoaXMucGF1c2UoITEpfSxoaXN0b3J5QVBJVXBkYXRlTWV0aG9kOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMuX2hpc3RvcnlBUElVcGRhdGVNZXRob2Q6KHRoaXMuX2hpc3RvcnlBUElVcGRhdGVNZXRob2Q9ZSxlKX0sZGlzYWJsZUlmQVBJTm90QXZhaWxhYmxlOmZ1bmN0aW9uKCl7dCgpfHx0aGlzLmRlc3Ryb3koKX0sbGFzdFJvdXRlUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdFJvdXRlUmVzb2x2ZWR9LGdldExpbmtQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZShcImhyZWZcIil9LGhvb2tzOmZ1bmN0aW9uKGUpe3RoaXMuX2dlbmVyaWNIb29rcz1lfSxfYWRkOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWVuY29kZVVSSSh0KSksdGhpcy5fcm91dGVzLnB1c2goXCJvYmplY3RcIj09PSh2b2lkIDA9PT1uP1widW5kZWZpbmVkXCI6ZShuKSk/e3JvdXRlOnQsaGFuZGxlcjpuLnVzZXMsbmFtZTpuLmFzLGhvb2tzOm98fG4uaG9va3N9Ontyb3V0ZTp0LGhhbmRsZXI6bixob29rczpvfSksdGhpcy5fYWRkfSxfZ2V0Um9vdDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5yb290P3RoaXMucm9vdDoodGhpcy5yb290PWEodGhpcy5fY0xvYygpLnNwbGl0KFwiP1wiKVswXSx0aGlzLl9yb3V0ZXMpLHRoaXMucm9vdCl9LF9saXN0ZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX3VzZVB1c2hTdGF0ZSl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsdGhpcy5fb25Mb2NhdGlvbkNoYW5nZSk7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcIm9uaGFzaGNoYW5nZVwiaW4gd2luZG93KXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uTG9jYXRpb25DaGFuZ2UpO2Vsc2V7dmFyIHQ9dGhpcy5fY0xvYygpLG49dm9pZCAwLG89dm9pZCAwOyhvPWZ1bmN0aW9uKCl7bj1lLl9jTG9jKCksdCE9PW4mJih0PW4sZS5yZXNvbHZlKCkpLGUuX2xpc3RlbmluZ0ludGVydmFsPXNldFRpbWVvdXQobywyMDApfSkoKX19LF9jTG9jOmZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz92b2lkIDAhPT13aW5kb3cuX19OQVZJR09fV0lORE9XX0xPQ0FUSU9OX01PQ0tfXz93aW5kb3cuX19OQVZJR09fV0lORE9XX0xPQ0FUSU9OX01PQ0tfXzpvKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTpcIlwifSxfZmluZExpbmtzOmZ1bmN0aW9uKCl7cmV0dXJuW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtbmF2aWdvXVwiKSl9LF9vbkxvY2F0aW9uQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5yZXNvbHZlKCl9LF9jYWxsTGVhdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9sYXN0Um91dGVSZXNvbHZlZDtlJiZlLmhvb2tzJiZlLmhvb2tzLmxlYXZlJiZlLmhvb2tzLmxlYXZlKGUucGFyYW1zKX19LG4uUEFSQU1FVEVSX1JFR0VYUD0vKFs6Kl0pKFxcdyspL2csbi5XSUxEQ0FSRF9SRUdFWFA9L1xcKi9nLG4uUkVQTEFDRV9WQVJJQUJMRV9SRUdFWFA9XCIoW14vXSspXCIsbi5SRVBMQUNFX1dJTERDQVJEPVwiKD86LiopXCIsbi5GT0xMT1dFRF9CWV9TTEFTSF9SRUdFWFA9XCIoPzovJHwkKVwiLG4uTUFUQ0hfUkVHRVhQX0ZMQUdTPVwiXCIsbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF2aWdvLm1pbi5qcy5tYXBcbiIsIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiBBdXRob3IgOiBWaW5jZW50IEdhcnJlYXUgIC0gdmluY2VudGdhcnJlYXUuY29tXG4vKiBNSVQgbGljZW5zZTogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogRGVtbyAvIEdlbmVyYXRvciA6IHZpbmNlbnRnYXJyZWF1LmNvbS9wYXJ0aWNsZXMuanNcbi8qIEdpdEh1YiA6IGdpdGh1Yi5jb20vVmluY2VudEdhcnJlYXUvcGFydGljbGVzLmpzXG4vKiBIb3cgdG8gdXNlPyA6IENoZWNrIHRoZSBHaXRIdWIgUkVBRE1FXG4vKiB2Mi4wLjBcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5mdW5jdGlvbiBoZXhUb1JnYihlKXt2YXIgYT0vXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO2U9ZS5yZXBsYWNlKGEsZnVuY3Rpb24oZSxhLHQsaSl7cmV0dXJuIGErYSt0K3QraStpfSk7dmFyIHQ9L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGUpO3JldHVybiB0P3tyOnBhcnNlSW50KHRbMV0sMTYpLGc6cGFyc2VJbnQodFsyXSwxNiksYjpwYXJzZUludCh0WzNdLDE2KX06bnVsbH1mdW5jdGlvbiBjbGFtcChlLGEsdCl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsYSksdCl9ZnVuY3Rpb24gaXNJbkFycmF5KGUsYSl7cmV0dXJuIGEuaW5kZXhPZihlKT4tMX12YXIgcEpTPWZ1bmN0aW9uKGUsYSl7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIitlK1wiID4gLnBhcnRpY2xlcy1qcy1jYW52YXMtZWxcIik7dGhpcy5wSlM9e2NhbnZhczp7ZWw6dCx3OnQub2Zmc2V0V2lkdGgsaDp0Lm9mZnNldEhlaWdodH0scGFydGljbGVzOntudW1iZXI6e3ZhbHVlOjQwMCxkZW5zaXR5OntlbmFibGU6ITAsdmFsdWVfYXJlYTo4MDB9fSxjb2xvcjp7dmFsdWU6XCIjZmZmXCJ9LHNoYXBlOnt0eXBlOlwiY2lyY2xlXCIsc3Ryb2tlOnt3aWR0aDowLGNvbG9yOlwiI2ZmMDAwMFwifSxwb2x5Z29uOntuYl9zaWRlczo1fSxpbWFnZTp7c3JjOlwiXCIsd2lkdGg6MTAwLGhlaWdodDoxMDB9fSxvcGFjaXR5Ont2YWx1ZToxLHJhbmRvbTohMSxhbmltOntlbmFibGU6ITEsc3BlZWQ6MixvcGFjaXR5X21pbjowLHN5bmM6ITF9fSxzaXplOnt2YWx1ZToyMCxyYW5kb206ITEsYW5pbTp7ZW5hYmxlOiExLHNwZWVkOjIwLHNpemVfbWluOjAsc3luYzohMX19LGxpbmVfbGlua2VkOntlbmFibGU6ITAsZGlzdGFuY2U6MTAwLGNvbG9yOlwiI2ZmZlwiLG9wYWNpdHk6MSx3aWR0aDoxfSxtb3ZlOntlbmFibGU6ITAsc3BlZWQ6MixkaXJlY3Rpb246XCJub25lXCIscmFuZG9tOiExLHN0cmFpZ2h0OiExLG91dF9tb2RlOlwib3V0XCIsYm91bmNlOiExLGF0dHJhY3Q6e2VuYWJsZTohMSxyb3RhdGVYOjNlMyxyb3RhdGVZOjNlM319LGFycmF5OltdfSxpbnRlcmFjdGl2aXR5OntkZXRlY3Rfb246XCJjYW52YXNcIixldmVudHM6e29uaG92ZXI6e2VuYWJsZTohMCxtb2RlOlwiZ3JhYlwifSxvbmNsaWNrOntlbmFibGU6ITAsbW9kZTpcInB1c2hcIn0scmVzaXplOiEwfSxtb2Rlczp7Z3JhYjp7ZGlzdGFuY2U6MTAwLGxpbmVfbGlua2VkOntvcGFjaXR5OjF9fSxidWJibGU6e2Rpc3RhbmNlOjIwMCxzaXplOjgwLGR1cmF0aW9uOi40fSxyZXB1bHNlOntkaXN0YW5jZToyMDAsZHVyYXRpb246LjR9LHB1c2g6e3BhcnRpY2xlc19uYjo0fSxyZW1vdmU6e3BhcnRpY2xlc19uYjoyfX0sbW91c2U6e319LHJldGluYV9kZXRlY3Q6ITEsZm46e2ludGVyYWN0Ont9LG1vZGVzOnt9LHZlbmRvcnM6e319LHRtcDp7fX07dmFyIGk9dGhpcy5wSlM7YSYmT2JqZWN0LmRlZXBFeHRlbmQoaSxhKSxpLnRtcC5vYmo9e3NpemVfdmFsdWU6aS5wYXJ0aWNsZXMuc2l6ZS52YWx1ZSxzaXplX2FuaW1fc3BlZWQ6aS5wYXJ0aWNsZXMuc2l6ZS5hbmltLnNwZWVkLG1vdmVfc3BlZWQ6aS5wYXJ0aWNsZXMubW92ZS5zcGVlZCxsaW5lX2xpbmtlZF9kaXN0YW5jZTppLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZSxsaW5lX2xpbmtlZF93aWR0aDppLnBhcnRpY2xlcy5saW5lX2xpbmtlZC53aWR0aCxtb2RlX2dyYWJfZGlzdGFuY2U6aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIuZGlzdGFuY2UsbW9kZV9idWJibGVfZGlzdGFuY2U6aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZSxtb2RlX2J1YmJsZV9zaXplOmkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuc2l6ZSxtb2RlX3JlcHVsc2VfZGlzdGFuY2U6aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZGlzdGFuY2V9LGkuZm4ucmV0aW5hSW5pdD1mdW5jdGlvbigpe2kucmV0aW5hX2RldGVjdCYmd2luZG93LmRldmljZVBpeGVsUmF0aW8+MT8oaS5jYW52YXMucHhyYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxpLnRtcC5yZXRpbmE9ITApOihpLmNhbnZhcy5weHJhdGlvPTEsaS50bXAucmV0aW5hPSExKSxpLmNhbnZhcy53PWkuY2FudmFzLmVsLm9mZnNldFdpZHRoKmkuY2FudmFzLnB4cmF0aW8saS5jYW52YXMuaD1pLmNhbnZhcy5lbC5vZmZzZXRIZWlnaHQqaS5jYW52YXMucHhyYXRpbyxpLnBhcnRpY2xlcy5zaXplLnZhbHVlPWkudG1wLm9iai5zaXplX3ZhbHVlKmkuY2FudmFzLnB4cmF0aW8saS5wYXJ0aWNsZXMuc2l6ZS5hbmltLnNwZWVkPWkudG1wLm9iai5zaXplX2FuaW1fc3BlZWQqaS5jYW52YXMucHhyYXRpbyxpLnBhcnRpY2xlcy5tb3ZlLnNwZWVkPWkudG1wLm9iai5tb3ZlX3NwZWVkKmkuY2FudmFzLnB4cmF0aW8saS5wYXJ0aWNsZXMubGluZV9saW5rZWQuZGlzdGFuY2U9aS50bXAub2JqLmxpbmVfbGlua2VkX2Rpc3RhbmNlKmkuY2FudmFzLnB4cmF0aW8saS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIuZGlzdGFuY2U9aS50bXAub2JqLm1vZGVfZ3JhYl9kaXN0YW5jZSppLmNhbnZhcy5weHJhdGlvLGkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuZGlzdGFuY2U9aS50bXAub2JqLm1vZGVfYnViYmxlX2Rpc3RhbmNlKmkuY2FudmFzLnB4cmF0aW8saS5wYXJ0aWNsZXMubGluZV9saW5rZWQud2lkdGg9aS50bXAub2JqLmxpbmVfbGlua2VkX3dpZHRoKmkuY2FudmFzLnB4cmF0aW8saS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplPWkudG1wLm9iai5tb2RlX2J1YmJsZV9zaXplKmkuY2FudmFzLnB4cmF0aW8saS5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZGlzdGFuY2U9aS50bXAub2JqLm1vZGVfcmVwdWxzZV9kaXN0YW5jZSppLmNhbnZhcy5weHJhdGlvfSxpLmZuLmNhbnZhc0luaXQ9ZnVuY3Rpb24oKXtpLmNhbnZhcy5jdHg9aS5jYW52YXMuZWwuZ2V0Q29udGV4dChcIjJkXCIpfSxpLmZuLmNhbnZhc1NpemU9ZnVuY3Rpb24oKXtpLmNhbnZhcy5lbC53aWR0aD1pLmNhbnZhcy53LGkuY2FudmFzLmVsLmhlaWdodD1pLmNhbnZhcy5oLGkmJmkuaW50ZXJhY3Rpdml0eS5ldmVudHMucmVzaXplJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7aS5jYW52YXMudz1pLmNhbnZhcy5lbC5vZmZzZXRXaWR0aCxpLmNhbnZhcy5oPWkuY2FudmFzLmVsLm9mZnNldEhlaWdodCxpLnRtcC5yZXRpbmEmJihpLmNhbnZhcy53Kj1pLmNhbnZhcy5weHJhdGlvLGkuY2FudmFzLmgqPWkuY2FudmFzLnB4cmF0aW8pLGkuY2FudmFzLmVsLndpZHRoPWkuY2FudmFzLncsaS5jYW52YXMuZWwuaGVpZ2h0PWkuY2FudmFzLmgsaS5wYXJ0aWNsZXMubW92ZS5lbmFibGV8fChpLmZuLnBhcnRpY2xlc0VtcHR5KCksaS5mbi5wYXJ0aWNsZXNDcmVhdGUoKSxpLmZuLnBhcnRpY2xlc0RyYXcoKSxpLmZuLnZlbmRvcnMuZGVuc2l0eUF1dG9QYXJ0aWNsZXMoKSksaS5mbi52ZW5kb3JzLmRlbnNpdHlBdXRvUGFydGljbGVzKCl9KX0saS5mbi5jYW52YXNQYWludD1mdW5jdGlvbigpe2kuY2FudmFzLmN0eC5maWxsUmVjdCgwLDAsaS5jYW52YXMudyxpLmNhbnZhcy5oKX0saS5mbi5jYW52YXNDbGVhcj1mdW5jdGlvbigpe2kuY2FudmFzLmN0eC5jbGVhclJlY3QoMCwwLGkuY2FudmFzLncsaS5jYW52YXMuaCl9LGkuZm4ucGFydGljbGU9ZnVuY3Rpb24oZSxhLHQpe2lmKHRoaXMucmFkaXVzPShpLnBhcnRpY2xlcy5zaXplLnJhbmRvbT9NYXRoLnJhbmRvbSgpOjEpKmkucGFydGljbGVzLnNpemUudmFsdWUsaS5wYXJ0aWNsZXMuc2l6ZS5hbmltLmVuYWJsZSYmKHRoaXMuc2l6ZV9zdGF0dXM9ITEsdGhpcy52cz1pLnBhcnRpY2xlcy5zaXplLmFuaW0uc3BlZWQvMTAwLGkucGFydGljbGVzLnNpemUuYW5pbS5zeW5jfHwodGhpcy52cz10aGlzLnZzKk1hdGgucmFuZG9tKCkpKSx0aGlzLng9dD90Lng6TWF0aC5yYW5kb20oKSppLmNhbnZhcy53LHRoaXMueT10P3QueTpNYXRoLnJhbmRvbSgpKmkuY2FudmFzLmgsdGhpcy54PmkuY2FudmFzLnctMip0aGlzLnJhZGl1cz90aGlzLng9dGhpcy54LXRoaXMucmFkaXVzOnRoaXMueDwyKnRoaXMucmFkaXVzJiYodGhpcy54PXRoaXMueCt0aGlzLnJhZGl1cyksdGhpcy55PmkuY2FudmFzLmgtMip0aGlzLnJhZGl1cz90aGlzLnk9dGhpcy55LXRoaXMucmFkaXVzOnRoaXMueTwyKnRoaXMucmFkaXVzJiYodGhpcy55PXRoaXMueSt0aGlzLnJhZGl1cyksaS5wYXJ0aWNsZXMubW92ZS5ib3VuY2UmJmkuZm4udmVuZG9ycy5jaGVja092ZXJsYXAodGhpcyx0KSx0aGlzLmNvbG9yPXt9LFwib2JqZWN0XCI9PXR5cGVvZiBlLnZhbHVlKWlmKGUudmFsdWUgaW5zdGFuY2VvZiBBcnJheSl7dmFyIHM9ZS52YWx1ZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaS5wYXJ0aWNsZXMuY29sb3IudmFsdWUubGVuZ3RoKV07dGhpcy5jb2xvci5yZ2I9aGV4VG9SZ2Iocyl9ZWxzZSB2b2lkIDAhPWUudmFsdWUuciYmdm9pZCAwIT1lLnZhbHVlLmcmJnZvaWQgMCE9ZS52YWx1ZS5iJiYodGhpcy5jb2xvci5yZ2I9e3I6ZS52YWx1ZS5yLGc6ZS52YWx1ZS5nLGI6ZS52YWx1ZS5ifSksdm9pZCAwIT1lLnZhbHVlLmgmJnZvaWQgMCE9ZS52YWx1ZS5zJiZ2b2lkIDAhPWUudmFsdWUubCYmKHRoaXMuY29sb3IuaHNsPXtoOmUudmFsdWUuaCxzOmUudmFsdWUucyxsOmUudmFsdWUubH0pO2Vsc2VcInJhbmRvbVwiPT1lLnZhbHVlP3RoaXMuY29sb3IucmdiPXtyOk1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpKzAsZzpNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSswLGI6TWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSkrMH06XCJzdHJpbmdcIj09dHlwZW9mIGUudmFsdWUmJih0aGlzLmNvbG9yPWUsdGhpcy5jb2xvci5yZ2I9aGV4VG9SZ2IodGhpcy5jb2xvci52YWx1ZSkpO3RoaXMub3BhY2l0eT0oaS5wYXJ0aWNsZXMub3BhY2l0eS5yYW5kb20/TWF0aC5yYW5kb20oKToxKSppLnBhcnRpY2xlcy5vcGFjaXR5LnZhbHVlLGkucGFydGljbGVzLm9wYWNpdHkuYW5pbS5lbmFibGUmJih0aGlzLm9wYWNpdHlfc3RhdHVzPSExLHRoaXMudm89aS5wYXJ0aWNsZXMub3BhY2l0eS5hbmltLnNwZWVkLzEwMCxpLnBhcnRpY2xlcy5vcGFjaXR5LmFuaW0uc3luY3x8KHRoaXMudm89dGhpcy52bypNYXRoLnJhbmRvbSgpKSk7dmFyIG49e307c3dpdGNoKGkucGFydGljbGVzLm1vdmUuZGlyZWN0aW9uKXtjYXNlXCJ0b3BcIjpuPXt4OjAseTotMX07YnJlYWs7Y2FzZVwidG9wLXJpZ2h0XCI6bj17eDouNSx5Oi0uNX07YnJlYWs7Y2FzZVwicmlnaHRcIjpuPXt4OjEseTotMH07YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6bj17eDouNSx5Oi41fTticmVhaztjYXNlXCJib3R0b21cIjpuPXt4OjAseToxfTticmVhaztjYXNlXCJib3R0b20tbGVmdFwiOm49e3g6LS41LHk6MX07YnJlYWs7Y2FzZVwibGVmdFwiOm49e3g6LTEseTowfTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOm49e3g6LS41LHk6LS41fTticmVhaztkZWZhdWx0Om49e3g6MCx5OjB9fWkucGFydGljbGVzLm1vdmUuc3RyYWlnaHQ/KHRoaXMudng9bi54LHRoaXMudnk9bi55LGkucGFydGljbGVzLm1vdmUucmFuZG9tJiYodGhpcy52eD10aGlzLnZ4Kk1hdGgucmFuZG9tKCksdGhpcy52eT10aGlzLnZ5Kk1hdGgucmFuZG9tKCkpKToodGhpcy52eD1uLngrTWF0aC5yYW5kb20oKS0uNSx0aGlzLnZ5PW4ueStNYXRoLnJhbmRvbSgpLS41KSx0aGlzLnZ4X2k9dGhpcy52eCx0aGlzLnZ5X2k9dGhpcy52eTt2YXIgcj1pLnBhcnRpY2xlcy5zaGFwZS50eXBlO2lmKFwib2JqZWN0XCI9PXR5cGVvZiByKXtpZihyIGluc3RhbmNlb2YgQXJyYXkpe3ZhciBjPXJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnIubGVuZ3RoKV07dGhpcy5zaGFwZT1jfX1lbHNlIHRoaXMuc2hhcGU9cjtpZihcImltYWdlXCI9PXRoaXMuc2hhcGUpe3ZhciBvPWkucGFydGljbGVzLnNoYXBlO3RoaXMuaW1nPXtzcmM6by5pbWFnZS5zcmMscmF0aW86by5pbWFnZS53aWR0aC9vLmltYWdlLmhlaWdodH0sdGhpcy5pbWcucmF0aW98fCh0aGlzLmltZy5yYXRpbz0xKSxcInN2Z1wiPT1pLnRtcC5pbWdfdHlwZSYmdm9pZCAwIT1pLnRtcC5zb3VyY2Vfc3ZnJiYoaS5mbi52ZW5kb3JzLmNyZWF0ZVN2Z0ltZyh0aGlzKSxpLnRtcC5wdXNoaW5nJiYodGhpcy5pbWcubG9hZGVkPSExKSl9fSxpLmZuLnBhcnRpY2xlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2kuY2FudmFzLmN0eC5kcmF3SW1hZ2UocixhLngtdCxhLnktdCwyKnQsMip0L2EuaW1nLnJhdGlvKX12YXIgYT10aGlzO2lmKHZvaWQgMCE9YS5yYWRpdXNfYnViYmxlKXZhciB0PWEucmFkaXVzX2J1YmJsZTtlbHNlIHZhciB0PWEucmFkaXVzO2lmKHZvaWQgMCE9YS5vcGFjaXR5X2J1YmJsZSl2YXIgcz1hLm9wYWNpdHlfYnViYmxlO2Vsc2UgdmFyIHM9YS5vcGFjaXR5O2lmKGEuY29sb3IucmdiKXZhciBuPVwicmdiYShcIithLmNvbG9yLnJnYi5yK1wiLFwiK2EuY29sb3IucmdiLmcrXCIsXCIrYS5jb2xvci5yZ2IuYitcIixcIitzK1wiKVwiO2Vsc2UgdmFyIG49XCJoc2xhKFwiK2EuY29sb3IuaHNsLmgrXCIsXCIrYS5jb2xvci5oc2wucytcIiUsXCIrYS5jb2xvci5oc2wubCtcIiUsXCIrcytcIilcIjtzd2l0Y2goaS5jYW52YXMuY3R4LmZpbGxTdHlsZT1uLGkuY2FudmFzLmN0eC5iZWdpblBhdGgoKSxhLnNoYXBlKXtjYXNlXCJjaXJjbGVcIjppLmNhbnZhcy5jdHguYXJjKGEueCxhLnksdCwwLDIqTWF0aC5QSSwhMSk7YnJlYWs7Y2FzZVwiZWRnZVwiOmkuY2FudmFzLmN0eC5yZWN0KGEueC10LGEueS10LDIqdCwyKnQpO2JyZWFrO2Nhc2VcInRyaWFuZ2xlXCI6aS5mbi52ZW5kb3JzLmRyYXdTaGFwZShpLmNhbnZhcy5jdHgsYS54LXQsYS55K3QvMS42NiwyKnQsMywyKTticmVhaztjYXNlXCJwb2x5Z29uXCI6aS5mbi52ZW5kb3JzLmRyYXdTaGFwZShpLmNhbnZhcy5jdHgsYS54LXQvKGkucGFydGljbGVzLnNoYXBlLnBvbHlnb24ubmJfc2lkZXMvMy41KSxhLnktdC8uNzYsMi42Nip0LyhpLnBhcnRpY2xlcy5zaGFwZS5wb2x5Z29uLm5iX3NpZGVzLzMpLGkucGFydGljbGVzLnNoYXBlLnBvbHlnb24ubmJfc2lkZXMsMSk7YnJlYWs7Y2FzZVwic3RhclwiOmkuZm4udmVuZG9ycy5kcmF3U2hhcGUoaS5jYW52YXMuY3R4LGEueC0yKnQvKGkucGFydGljbGVzLnNoYXBlLnBvbHlnb24ubmJfc2lkZXMvNCksYS55LXQvMS41MiwyKnQqMi42Ni8oaS5wYXJ0aWNsZXMuc2hhcGUucG9seWdvbi5uYl9zaWRlcy8zKSxpLnBhcnRpY2xlcy5zaGFwZS5wb2x5Z29uLm5iX3NpZGVzLDIpO2JyZWFrO2Nhc2VcImltYWdlXCI6aWYoXCJzdmdcIj09aS50bXAuaW1nX3R5cGUpdmFyIHI9YS5pbWcub2JqO2Vsc2UgdmFyIHI9aS50bXAuaW1nX29iajtyJiZlKCl9aS5jYW52YXMuY3R4LmNsb3NlUGF0aCgpLGkucGFydGljbGVzLnNoYXBlLnN0cm9rZS53aWR0aD4wJiYoaS5jYW52YXMuY3R4LnN0cm9rZVN0eWxlPWkucGFydGljbGVzLnNoYXBlLnN0cm9rZS5jb2xvcixpLmNhbnZhcy5jdHgubGluZVdpZHRoPWkucGFydGljbGVzLnNoYXBlLnN0cm9rZS53aWR0aCxpLmNhbnZhcy5jdHguc3Ryb2tlKCkpLGkuY2FudmFzLmN0eC5maWxsKCl9LGkuZm4ucGFydGljbGVzQ3JlYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxpLnBhcnRpY2xlcy5udW1iZXIudmFsdWU7ZSsrKWkucGFydGljbGVzLmFycmF5LnB1c2gobmV3IGkuZm4ucGFydGljbGUoaS5wYXJ0aWNsZXMuY29sb3IsaS5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSkpfSxpLmZuLnBhcnRpY2xlc1VwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8aS5wYXJ0aWNsZXMuYXJyYXkubGVuZ3RoO2UrKyl7dmFyIGE9aS5wYXJ0aWNsZXMuYXJyYXlbZV07aWYoaS5wYXJ0aWNsZXMubW92ZS5lbmFibGUpe3ZhciB0PWkucGFydGljbGVzLm1vdmUuc3BlZWQvMjthLngrPWEudngqdCxhLnkrPWEudnkqdH1pZihpLnBhcnRpY2xlcy5vcGFjaXR5LmFuaW0uZW5hYmxlJiYoMT09YS5vcGFjaXR5X3N0YXR1cz8oYS5vcGFjaXR5Pj1pLnBhcnRpY2xlcy5vcGFjaXR5LnZhbHVlJiYoYS5vcGFjaXR5X3N0YXR1cz0hMSksYS5vcGFjaXR5Kz1hLnZvKTooYS5vcGFjaXR5PD1pLnBhcnRpY2xlcy5vcGFjaXR5LmFuaW0ub3BhY2l0eV9taW4mJihhLm9wYWNpdHlfc3RhdHVzPSEwKSxhLm9wYWNpdHktPWEudm8pLGEub3BhY2l0eTwwJiYoYS5vcGFjaXR5PTApKSxpLnBhcnRpY2xlcy5zaXplLmFuaW0uZW5hYmxlJiYoMT09YS5zaXplX3N0YXR1cz8oYS5yYWRpdXM+PWkucGFydGljbGVzLnNpemUudmFsdWUmJihhLnNpemVfc3RhdHVzPSExKSxhLnJhZGl1cys9YS52cyk6KGEucmFkaXVzPD1pLnBhcnRpY2xlcy5zaXplLmFuaW0uc2l6ZV9taW4mJihhLnNpemVfc3RhdHVzPSEwKSxhLnJhZGl1cy09YS52cyksYS5yYWRpdXM8MCYmKGEucmFkaXVzPTApKSxcImJvdW5jZVwiPT1pLnBhcnRpY2xlcy5tb3ZlLm91dF9tb2RlKXZhciBzPXt4X2xlZnQ6YS5yYWRpdXMseF9yaWdodDppLmNhbnZhcy53LHlfdG9wOmEucmFkaXVzLHlfYm90dG9tOmkuY2FudmFzLmh9O2Vsc2UgdmFyIHM9e3hfbGVmdDotYS5yYWRpdXMseF9yaWdodDppLmNhbnZhcy53K2EucmFkaXVzLHlfdG9wOi1hLnJhZGl1cyx5X2JvdHRvbTppLmNhbnZhcy5oK2EucmFkaXVzfTtzd2l0Y2goYS54LWEucmFkaXVzPmkuY2FudmFzLnc/KGEueD1zLnhfbGVmdCxhLnk9TWF0aC5yYW5kb20oKSppLmNhbnZhcy5oKTphLngrYS5yYWRpdXM8MCYmKGEueD1zLnhfcmlnaHQsYS55PU1hdGgucmFuZG9tKCkqaS5jYW52YXMuaCksYS55LWEucmFkaXVzPmkuY2FudmFzLmg/KGEueT1zLnlfdG9wLGEueD1NYXRoLnJhbmRvbSgpKmkuY2FudmFzLncpOmEueSthLnJhZGl1czwwJiYoYS55PXMueV9ib3R0b20sYS54PU1hdGgucmFuZG9tKCkqaS5jYW52YXMudyksaS5wYXJ0aWNsZXMubW92ZS5vdXRfbW9kZSl7Y2FzZVwiYm91bmNlXCI6YS54K2EucmFkaXVzPmkuY2FudmFzLnc/YS52eD0tYS52eDphLngtYS5yYWRpdXM8MCYmKGEudng9LWEudngpLGEueSthLnJhZGl1cz5pLmNhbnZhcy5oP2Eudnk9LWEudnk6YS55LWEucmFkaXVzPDAmJihhLnZ5PS1hLnZ5KX1pZihpc0luQXJyYXkoXCJncmFiXCIsaS5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLm1vZGUpJiZpLmZuLm1vZGVzLmdyYWJQYXJ0aWNsZShhKSwoaXNJbkFycmF5KFwiYnViYmxlXCIsaS5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLm1vZGUpfHxpc0luQXJyYXkoXCJidWJibGVcIixpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2subW9kZSkpJiZpLmZuLm1vZGVzLmJ1YmJsZVBhcnRpY2xlKGEpLChpc0luQXJyYXkoXCJyZXB1bHNlXCIsaS5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLm1vZGUpfHxpc0luQXJyYXkoXCJyZXB1bHNlXCIsaS5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmNsaWNrLm1vZGUpKSYmaS5mbi5tb2Rlcy5yZXB1bHNlUGFydGljbGUoYSksaS5wYXJ0aWNsZXMubGluZV9saW5rZWQuZW5hYmxlfHxpLnBhcnRpY2xlcy5tb3ZlLmF0dHJhY3QuZW5hYmxlKWZvcih2YXIgbj1lKzE7bjxpLnBhcnRpY2xlcy5hcnJheS5sZW5ndGg7bisrKXt2YXIgcj1pLnBhcnRpY2xlcy5hcnJheVtuXTtpLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5lbmFibGUmJmkuZm4uaW50ZXJhY3QubGlua1BhcnRpY2xlcyhhLHIpLGkucGFydGljbGVzLm1vdmUuYXR0cmFjdC5lbmFibGUmJmkuZm4uaW50ZXJhY3QuYXR0cmFjdFBhcnRpY2xlcyhhLHIpLGkucGFydGljbGVzLm1vdmUuYm91bmNlJiZpLmZuLmludGVyYWN0LmJvdW5jZVBhcnRpY2xlcyhhLHIpfX19LGkuZm4ucGFydGljbGVzRHJhdz1mdW5jdGlvbigpe2kuY2FudmFzLmN0eC5jbGVhclJlY3QoMCwwLGkuY2FudmFzLncsaS5jYW52YXMuaCksaS5mbi5wYXJ0aWNsZXNVcGRhdGUoKTtmb3IodmFyIGU9MDtlPGkucGFydGljbGVzLmFycmF5Lmxlbmd0aDtlKyspe3ZhciBhPWkucGFydGljbGVzLmFycmF5W2VdO2EuZHJhdygpfX0saS5mbi5wYXJ0aWNsZXNFbXB0eT1mdW5jdGlvbigpe2kucGFydGljbGVzLmFycmF5PVtdfSxpLmZuLnBhcnRpY2xlc1JlZnJlc2g9ZnVuY3Rpb24oKXtjYW5jZWxSZXF1ZXN0QW5pbUZyYW1lKGkuZm4uY2hlY2tBbmltRnJhbWUpLGNhbmNlbFJlcXVlc3RBbmltRnJhbWUoaS5mbi5kcmF3QW5pbUZyYW1lKSxpLnRtcC5zb3VyY2Vfc3ZnPXZvaWQgMCxpLnRtcC5pbWdfb2JqPXZvaWQgMCxpLnRtcC5jb3VudF9zdmc9MCxpLmZuLnBhcnRpY2xlc0VtcHR5KCksaS5mbi5jYW52YXNDbGVhcigpLGkuZm4udmVuZG9ycy5zdGFydCgpfSxpLmZuLmludGVyYWN0LmxpbmtQYXJ0aWNsZXM9ZnVuY3Rpb24oZSxhKXt2YXIgdD1lLngtYS54LHM9ZS55LWEueSxuPU1hdGguc3FydCh0KnQrcypzKTtpZihuPD1pLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZSl7dmFyIHI9aS5wYXJ0aWNsZXMubGluZV9saW5rZWQub3BhY2l0eS1uLygxL2kucGFydGljbGVzLmxpbmVfbGlua2VkLm9wYWNpdHkpL2kucGFydGljbGVzLmxpbmVfbGlua2VkLmRpc3RhbmNlO2lmKHI+MCl7dmFyIGM9aS5wYXJ0aWNsZXMubGluZV9saW5rZWQuY29sb3JfcmdiX2xpbmU7aS5jYW52YXMuY3R4LnN0cm9rZVN0eWxlPVwicmdiYShcIitjLnIrXCIsXCIrYy5nK1wiLFwiK2MuYitcIixcIityK1wiKVwiLGkuY2FudmFzLmN0eC5saW5lV2lkdGg9aS5wYXJ0aWNsZXMubGluZV9saW5rZWQud2lkdGgsaS5jYW52YXMuY3R4LmJlZ2luUGF0aCgpLGkuY2FudmFzLmN0eC5tb3ZlVG8oZS54LGUueSksaS5jYW52YXMuY3R4LmxpbmVUbyhhLngsYS55KSxpLmNhbnZhcy5jdHguc3Ryb2tlKCksaS5jYW52YXMuY3R4LmNsb3NlUGF0aCgpfX19LGkuZm4uaW50ZXJhY3QuYXR0cmFjdFBhcnRpY2xlcz1mdW5jdGlvbihlLGEpe3ZhciB0PWUueC1hLngscz1lLnktYS55LG49TWF0aC5zcXJ0KHQqdCtzKnMpO2lmKG48PWkucGFydGljbGVzLmxpbmVfbGlua2VkLmRpc3RhbmNlKXt2YXIgcj10LygxZTMqaS5wYXJ0aWNsZXMubW92ZS5hdHRyYWN0LnJvdGF0ZVgpLGM9cy8oMWUzKmkucGFydGljbGVzLm1vdmUuYXR0cmFjdC5yb3RhdGVZKTtlLnZ4LT1yLGUudnktPWMsYS52eCs9cixhLnZ5Kz1jfX0saS5mbi5pbnRlcmFjdC5ib3VuY2VQYXJ0aWNsZXM9ZnVuY3Rpb24oZSxhKXt2YXIgdD1lLngtYS54LGk9ZS55LWEueSxzPU1hdGguc3FydCh0KnQraSppKSxuPWUucmFkaXVzK2EucmFkaXVzO24+PXMmJihlLnZ4PS1lLnZ4LGUudnk9LWUudnksYS52eD0tYS52eCxhLnZ5PS1hLnZ5KX0saS5mbi5tb2Rlcy5wdXNoUGFydGljbGVzPWZ1bmN0aW9uKGUsYSl7aS50bXAucHVzaGluZz0hMDtmb3IodmFyIHQ9MDtlPnQ7dCsrKWkucGFydGljbGVzLmFycmF5LnB1c2gobmV3IGkuZm4ucGFydGljbGUoaS5wYXJ0aWNsZXMuY29sb3IsaS5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSx7eDphP2EucG9zX3g6TWF0aC5yYW5kb20oKSppLmNhbnZhcy53LHk6YT9hLnBvc195Ok1hdGgucmFuZG9tKCkqaS5jYW52YXMuaH0pKSx0PT1lLTEmJihpLnBhcnRpY2xlcy5tb3ZlLmVuYWJsZXx8aS5mbi5wYXJ0aWNsZXNEcmF3KCksaS50bXAucHVzaGluZz0hMSl9LGkuZm4ubW9kZXMucmVtb3ZlUGFydGljbGVzPWZ1bmN0aW9uKGUpe2kucGFydGljbGVzLmFycmF5LnNwbGljZSgwLGUpLGkucGFydGljbGVzLm1vdmUuZW5hYmxlfHxpLmZuLnBhcnRpY2xlc0RyYXcoKX0saS5mbi5tb2Rlcy5idWJibGVQYXJ0aWNsZT1mdW5jdGlvbihlKXtmdW5jdGlvbiBhKCl7ZS5vcGFjaXR5X2J1YmJsZT1lLm9wYWNpdHksZS5yYWRpdXNfYnViYmxlPWUucmFkaXVzfWZ1bmN0aW9uIHQoYSx0LHMsbixjKXtpZihhIT10KWlmKGkudG1wLmJ1YmJsZV9kdXJhdGlvbl9lbmQpe2lmKHZvaWQgMCE9cyl7dmFyIG89bi1wKihuLWEpL2kuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuZHVyYXRpb24sbD1hLW87ZD1hK2wsXCJzaXplXCI9PWMmJihlLnJhZGl1c19idWJibGU9ZCksXCJvcGFjaXR5XCI9PWMmJihlLm9wYWNpdHlfYnViYmxlPWQpfX1lbHNlIGlmKHI8PWkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuZGlzdGFuY2Upe2lmKHZvaWQgMCE9cyl2YXIgdj1zO2Vsc2UgdmFyIHY9bjtpZih2IT1hKXt2YXIgZD1uLXAqKG4tYSkvaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbjtcInNpemVcIj09YyYmKGUucmFkaXVzX2J1YmJsZT1kKSxcIm9wYWNpdHlcIj09YyYmKGUub3BhY2l0eV9idWJibGU9ZCl9fWVsc2VcInNpemVcIj09YyYmKGUucmFkaXVzX2J1YmJsZT12b2lkIDApLFwib3BhY2l0eVwiPT1jJiYoZS5vcGFjaXR5X2J1YmJsZT12b2lkIDApfWlmKGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5lbmFibGUmJmlzSW5BcnJheShcImJ1YmJsZVwiLGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSl7dmFyIHM9ZS54LWkuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NfeCxuPWUueS1pLmludGVyYWN0aXZpdHkubW91c2UucG9zX3kscj1NYXRoLnNxcnQocypzK24qbiksYz0xLXIvaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZTtpZihyPD1pLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmRpc3RhbmNlKXtpZihjPj0wJiZcIm1vdXNlbW92ZVwiPT1pLmludGVyYWN0aXZpdHkuc3RhdHVzKXtpZihpLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLnNpemUhPWkucGFydGljbGVzLnNpemUudmFsdWUpaWYoaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplPmkucGFydGljbGVzLnNpemUudmFsdWUpe3ZhciBvPWUucmFkaXVzK2kuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuc2l6ZSpjO28+PTAmJihlLnJhZGl1c19idWJibGU9byl9ZWxzZXt2YXIgbD1lLnJhZGl1cy1pLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLnNpemUsbz1lLnJhZGl1cy1sKmM7bz4wP2UucmFkaXVzX2J1YmJsZT1vOmUucmFkaXVzX2J1YmJsZT0wfWlmKGkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUub3BhY2l0eSE9aS5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSlpZihpLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHk+aS5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSl7dmFyIHY9aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5KmM7dj5lLm9wYWNpdHkmJnY8PWkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUub3BhY2l0eSYmKGUub3BhY2l0eV9idWJibGU9dil9ZWxzZXt2YXIgdj1lLm9wYWNpdHktKGkucGFydGljbGVzLm9wYWNpdHkudmFsdWUtaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5KSpjO3Y8ZS5vcGFjaXR5JiZ2Pj1pLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHkmJihlLm9wYWNpdHlfYnViYmxlPXYpfX19ZWxzZSBhKCk7XCJtb3VzZWxlYXZlXCI9PWkuaW50ZXJhY3Rpdml0eS5zdGF0dXMmJmEoKX1lbHNlIGlmKGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25jbGljay5lbmFibGUmJmlzSW5BcnJheShcImJ1YmJsZVwiLGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25jbGljay5tb2RlKSl7aWYoaS50bXAuYnViYmxlX2NsaWNraW5nKXt2YXIgcz1lLngtaS5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrX3Bvc194LG49ZS55LWkuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja19wb3NfeSxyPU1hdGguc3FydChzKnMrbipuKSxwPSgobmV3IERhdGUpLmdldFRpbWUoKS1pLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tfdGltZSkvMWUzO3A+aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbiYmKGkudG1wLmJ1YmJsZV9kdXJhdGlvbl9lbmQ9ITApLHA+MippLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmR1cmF0aW9uJiYoaS50bXAuYnViYmxlX2NsaWNraW5nPSExLGkudG1wLmJ1YmJsZV9kdXJhdGlvbl9lbmQ9ITEpfWkudG1wLmJ1YmJsZV9jbGlja2luZyYmKHQoaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplLGkucGFydGljbGVzLnNpemUudmFsdWUsZS5yYWRpdXNfYnViYmxlLGUucmFkaXVzLFwic2l6ZVwiKSx0KGkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUub3BhY2l0eSxpLnBhcnRpY2xlcy5vcGFjaXR5LnZhbHVlLGUub3BhY2l0eV9idWJibGUsZS5vcGFjaXR5LFwib3BhY2l0eVwiKSl9fSxpLmZuLm1vZGVzLnJlcHVsc2VQYXJ0aWNsZT1mdW5jdGlvbihlKXtmdW5jdGlvbiBhKCl7dmFyIGE9TWF0aC5hdGFuMihkLHApO2lmKGUudng9dSpNYXRoLmNvcyhhKSxlLnZ5PXUqTWF0aC5zaW4oYSksXCJib3VuY2VcIj09aS5wYXJ0aWNsZXMubW92ZS5vdXRfbW9kZSl7dmFyIHQ9e3g6ZS54K2UudngseTplLnkrZS52eX07dC54K2UucmFkaXVzPmkuY2FudmFzLnc/ZS52eD0tZS52eDp0LngtZS5yYWRpdXM8MCYmKGUudng9LWUudngpLHQueStlLnJhZGl1cz5pLmNhbnZhcy5oP2Uudnk9LWUudnk6dC55LWUucmFkaXVzPDAmJihlLnZ5PS1lLnZ5KX19aWYoaS5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLmVuYWJsZSYmaXNJbkFycmF5KFwicmVwdWxzZVwiLGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSYmXCJtb3VzZW1vdmVcIj09aS5pbnRlcmFjdGl2aXR5LnN0YXR1cyl7dmFyIHQ9ZS54LWkuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NfeCxzPWUueS1pLmludGVyYWN0aXZpdHkubW91c2UucG9zX3ksbj1NYXRoLnNxcnQodCp0K3Mqcykscj17eDp0L24seTpzL259LGM9aS5pbnRlcmFjdGl2aXR5Lm1vZGVzLnJlcHVsc2UuZGlzdGFuY2Usbz0xMDAsbD1jbGFtcCgxL2MqKC0xKk1hdGgucG93KG4vYywyKSsxKSpjKm8sMCw1MCksdj17eDplLngrci54KmwseTplLnkrci55Kmx9O1wiYm91bmNlXCI9PWkucGFydGljbGVzLm1vdmUub3V0X21vZGU/KHYueC1lLnJhZGl1cz4wJiZ2LngrZS5yYWRpdXM8aS5jYW52YXMudyYmKGUueD12LngpLHYueS1lLnJhZGl1cz4wJiZ2LnkrZS5yYWRpdXM8aS5jYW52YXMuaCYmKGUueT12LnkpKTooZS54PXYueCxlLnk9di55KX1lbHNlIGlmKGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25jbGljay5lbmFibGUmJmlzSW5BcnJheShcInJlcHVsc2VcIixpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2subW9kZSkpaWYoaS50bXAucmVwdWxzZV9maW5pc2h8fChpLnRtcC5yZXB1bHNlX2NvdW50KyssaS50bXAucmVwdWxzZV9jb3VudD09aS5wYXJ0aWNsZXMuYXJyYXkubGVuZ3RoJiYoaS50bXAucmVwdWxzZV9maW5pc2g9ITApKSxpLnRtcC5yZXB1bHNlX2NsaWNraW5nKXt2YXIgYz1NYXRoLnBvdyhpLmludGVyYWN0aXZpdHkubW9kZXMucmVwdWxzZS5kaXN0YW5jZS82LDMpLHA9aS5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrX3Bvc194LWUueCxkPWkuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja19wb3NfeS1lLnksbT1wKnArZCpkLHU9LWMvbSoxO2M+PW0mJmEoKX1lbHNlIDA9PWkudG1wLnJlcHVsc2VfY2xpY2tpbmcmJihlLnZ4PWUudnhfaSxlLnZ5PWUudnlfaSl9LGkuZm4ubW9kZXMuZ3JhYlBhcnRpY2xlPWZ1bmN0aW9uKGUpe2lmKGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5lbmFibGUmJlwibW91c2Vtb3ZlXCI9PWkuaW50ZXJhY3Rpdml0eS5zdGF0dXMpe3ZhciBhPWUueC1pLmludGVyYWN0aXZpdHkubW91c2UucG9zX3gsdD1lLnktaS5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc195LHM9TWF0aC5zcXJ0KGEqYSt0KnQpO2lmKHM8PWkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5ncmFiLmRpc3RhbmNlKXt2YXIgbj1pLmludGVyYWN0aXZpdHkubW9kZXMuZ3JhYi5saW5lX2xpbmtlZC5vcGFjaXR5LXMvKDEvaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIubGluZV9saW5rZWQub3BhY2l0eSkvaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLmdyYWIuZGlzdGFuY2U7aWYobj4wKXt2YXIgcj1pLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5jb2xvcl9yZ2JfbGluZTtpLmNhbnZhcy5jdHguc3Ryb2tlU3R5bGU9XCJyZ2JhKFwiK3IucitcIixcIityLmcrXCIsXCIrci5iK1wiLFwiK24rXCIpXCIsaS5jYW52YXMuY3R4LmxpbmVXaWR0aD1pLnBhcnRpY2xlcy5saW5lX2xpbmtlZC53aWR0aCxpLmNhbnZhcy5jdHguYmVnaW5QYXRoKCksaS5jYW52YXMuY3R4Lm1vdmVUbyhlLngsZS55KSxpLmNhbnZhcy5jdHgubGluZVRvKGkuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NfeCxpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3kpLGkuY2FudmFzLmN0eC5zdHJva2UoKSxpLmNhbnZhcy5jdHguY2xvc2VQYXRoKCl9fX19LGkuZm4udmVuZG9ycy5ldmVudHNMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtcIndpbmRvd1wiPT1pLmludGVyYWN0aXZpdHkuZGV0ZWN0X29uP2kuaW50ZXJhY3Rpdml0eS5lbD13aW5kb3c6aS5pbnRlcmFjdGl2aXR5LmVsPWkuY2FudmFzLmVsLChpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uaG92ZXIuZW5hYmxlfHxpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2suZW5hYmxlKSYmKGkuaW50ZXJhY3Rpdml0eS5lbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oZSl7aWYoaS5pbnRlcmFjdGl2aXR5LmVsPT13aW5kb3cpdmFyIGE9ZS5jbGllbnRYLHQ9ZS5jbGllbnRZO2Vsc2UgdmFyIGE9ZS5vZmZzZXRYfHxlLmNsaWVudFgsdD1lLm9mZnNldFl8fGUuY2xpZW50WTtpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3g9YSxpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3k9dCxpLnRtcC5yZXRpbmEmJihpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3gqPWkuY2FudmFzLnB4cmF0aW8saS5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc195Kj1pLmNhbnZhcy5weHJhdGlvKSxpLmludGVyYWN0aXZpdHkuc3RhdHVzPVwibW91c2Vtb3ZlXCJ9KSxpLmludGVyYWN0aXZpdHkuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbihlKXtpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3g9bnVsbCxpLmludGVyYWN0aXZpdHkubW91c2UucG9zX3k9bnVsbCxpLmludGVyYWN0aXZpdHkuc3RhdHVzPVwibW91c2VsZWF2ZVwifSkpLGkuaW50ZXJhY3Rpdml0eS5ldmVudHMub25jbGljay5lbmFibGUmJmkuaW50ZXJhY3Rpdml0eS5lbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2lmKGkuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja19wb3NfeD1pLmludGVyYWN0aXZpdHkubW91c2UucG9zX3gsaS5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrX3Bvc195PWkuaW50ZXJhY3Rpdml0eS5tb3VzZS5wb3NfeSxpLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tfdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2suZW5hYmxlKXN3aXRjaChpLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2subW9kZSl7Y2FzZVwicHVzaFwiOmkucGFydGljbGVzLm1vdmUuZW5hYmxlP2kuZm4ubW9kZXMucHVzaFBhcnRpY2xlcyhpLmludGVyYWN0aXZpdHkubW9kZXMucHVzaC5wYXJ0aWNsZXNfbmIsaS5pbnRlcmFjdGl2aXR5Lm1vdXNlKToxPT1pLmludGVyYWN0aXZpdHkubW9kZXMucHVzaC5wYXJ0aWNsZXNfbmI/aS5mbi5tb2Rlcy5wdXNoUGFydGljbGVzKGkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5wdXNoLnBhcnRpY2xlc19uYixpLmludGVyYWN0aXZpdHkubW91c2UpOmkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5wdXNoLnBhcnRpY2xlc19uYj4xJiZpLmZuLm1vZGVzLnB1c2hQYXJ0aWNsZXMoaS5pbnRlcmFjdGl2aXR5Lm1vZGVzLnB1c2gucGFydGljbGVzX25iKTticmVhaztjYXNlXCJyZW1vdmVcIjppLmZuLm1vZGVzLnJlbW92ZVBhcnRpY2xlcyhpLmludGVyYWN0aXZpdHkubW9kZXMucmVtb3ZlLnBhcnRpY2xlc19uYik7YnJlYWs7Y2FzZVwiYnViYmxlXCI6aS50bXAuYnViYmxlX2NsaWNraW5nPSEwO2JyZWFrO2Nhc2VcInJlcHVsc2VcIjppLnRtcC5yZXB1bHNlX2NsaWNraW5nPSEwLGkudG1wLnJlcHVsc2VfY291bnQ9MCxpLnRtcC5yZXB1bHNlX2ZpbmlzaD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS50bXAucmVwdWxzZV9jbGlja2luZz0hMX0sMWUzKmkuaW50ZXJhY3Rpdml0eS5tb2Rlcy5yZXB1bHNlLmR1cmF0aW9uKX19KX0saS5mbi52ZW5kb3JzLmRlbnNpdHlBdXRvUGFydGljbGVzPWZ1bmN0aW9uKCl7aWYoaS5wYXJ0aWNsZXMubnVtYmVyLmRlbnNpdHkuZW5hYmxlKXt2YXIgZT1pLmNhbnZhcy5lbC53aWR0aCppLmNhbnZhcy5lbC5oZWlnaHQvMWUzO2kudG1wLnJldGluYSYmKGUvPTIqaS5jYW52YXMucHhyYXRpbyk7dmFyIGE9ZSppLnBhcnRpY2xlcy5udW1iZXIudmFsdWUvaS5wYXJ0aWNsZXMubnVtYmVyLmRlbnNpdHkudmFsdWVfYXJlYSx0PWkucGFydGljbGVzLmFycmF5Lmxlbmd0aC1hOzA+dD9pLmZuLm1vZGVzLnB1c2hQYXJ0aWNsZXMoTWF0aC5hYnModCkpOmkuZm4ubW9kZXMucmVtb3ZlUGFydGljbGVzKHQpfX0saS5mbi52ZW5kb3JzLmNoZWNrT3ZlcmxhcD1mdW5jdGlvbihlLGEpe2Zvcih2YXIgdD0wO3Q8aS5wYXJ0aWNsZXMuYXJyYXkubGVuZ3RoO3QrKyl7dmFyIHM9aS5wYXJ0aWNsZXMuYXJyYXlbdF0sbj1lLngtcy54LHI9ZS55LXMueSxjPU1hdGguc3FydChuKm4rcipyKTtjPD1lLnJhZGl1cytzLnJhZGl1cyYmKGUueD1hP2EueDpNYXRoLnJhbmRvbSgpKmkuY2FudmFzLncsZS55PWE/YS55Ok1hdGgucmFuZG9tKCkqaS5jYW52YXMuaCxpLmZuLnZlbmRvcnMuY2hlY2tPdmVybGFwKGUpKX19LGkuZm4udmVuZG9ycy5jcmVhdGVTdmdJbWc9ZnVuY3Rpb24oZSl7dmFyIGE9aS50bXAuc291cmNlX3N2Zyx0PS8jKFswLTlBLUZdezMsNn0pL2dpLHM9YS5yZXBsYWNlKHQsZnVuY3Rpb24oYSx0LGkscyl7aWYoZS5jb2xvci5yZ2IpdmFyIG49XCJyZ2JhKFwiK2UuY29sb3IucmdiLnIrXCIsXCIrZS5jb2xvci5yZ2IuZytcIixcIitlLmNvbG9yLnJnYi5iK1wiLFwiK2Uub3BhY2l0eStcIilcIjtlbHNlIHZhciBuPVwiaHNsYShcIitlLmNvbG9yLmhzbC5oK1wiLFwiK2UuY29sb3IuaHNsLnMrXCIlLFwiK2UuY29sb3IuaHNsLmwrXCIlLFwiK2Uub3BhY2l0eStcIilcIjtyZXR1cm4gbn0pLG49bmV3IEJsb2IoW3NdLHt0eXBlOlwiaW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04XCJ9KSxyPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkx8fHdpbmRvdyxjPXIuY3JlYXRlT2JqZWN0VVJMKG4pLG89bmV3IEltYWdlO28uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2UuaW1nLm9iaj1vLGUuaW1nLmxvYWRlZD0hMCxyLnJldm9rZU9iamVjdFVSTChjKSxpLnRtcC5jb3VudF9zdmcrK30pLG8uc3JjPWN9LGkuZm4udmVuZG9ycy5kZXN0cm95cEpTPWZ1bmN0aW9uKCl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUoaS5mbi5kcmF3QW5pbUZyYW1lKSx0LnJlbW92ZSgpLHBKU0RvbT1udWxsfSxpLmZuLnZlbmRvcnMuZHJhd1NoYXBlPWZ1bmN0aW9uKGUsYSx0LGkscyxuKXt2YXIgcj1zKm4sYz1zL24sbz0xODAqKGMtMikvYyxsPU1hdGguUEktTWF0aC5QSSpvLzE4MDtlLnNhdmUoKSxlLmJlZ2luUGF0aCgpLGUudHJhbnNsYXRlKGEsdCksZS5tb3ZlVG8oMCwwKTtmb3IodmFyIHY9MDtyPnY7disrKWUubGluZVRvKGksMCksZS50cmFuc2xhdGUoaSwwKSxlLnJvdGF0ZShsKTtlLmZpbGwoKSxlLnJlc3RvcmUoKX0saS5mbi52ZW5kb3JzLmV4cG9ydEltZz1mdW5jdGlvbigpe3dpbmRvdy5vcGVuKGkuY2FudmFzLmVsLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSxcIl9ibGFua1wiKX0saS5mbi52ZW5kb3JzLmxvYWRJbWc9ZnVuY3Rpb24oZSl7aWYoaS50bXAuaW1nX2Vycm9yPXZvaWQgMCxcIlwiIT1pLnBhcnRpY2xlcy5zaGFwZS5pbWFnZS5zcmMpaWYoXCJzdmdcIj09ZSl7dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbihcIkdFVFwiLGkucGFydGljbGVzLnNoYXBlLmltYWdlLnNyYyksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7ND09YS5yZWFkeVN0YXRlJiYoMjAwPT1hLnN0YXR1cz8oaS50bXAuc291cmNlX3N2Zz1lLmN1cnJlbnRUYXJnZXQucmVzcG9uc2UsaS5mbi52ZW5kb3JzLmNoZWNrQmVmb3JlRHJhdygpKTooY29uc29sZS5sb2coXCJFcnJvciBwSlMgLSBJbWFnZSBub3QgZm91bmRcIiksaS50bXAuaW1nX2Vycm9yPSEwKSl9LGEuc2VuZCgpfWVsc2V7dmFyIHQ9bmV3IEltYWdlO3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2kudG1wLmltZ19vYmo9dCxpLmZuLnZlbmRvcnMuY2hlY2tCZWZvcmVEcmF3KCl9KSx0LnNyYz1pLnBhcnRpY2xlcy5zaGFwZS5pbWFnZS5zcmN9ZWxzZSBjb25zb2xlLmxvZyhcIkVycm9yIHBKUyAtIE5vIGltYWdlLnNyY1wiKSxpLnRtcC5pbWdfZXJyb3I9ITB9LGkuZm4udmVuZG9ycy5kcmF3PWZ1bmN0aW9uKCl7XCJpbWFnZVwiPT1pLnBhcnRpY2xlcy5zaGFwZS50eXBlP1wic3ZnXCI9PWkudG1wLmltZ190eXBlP2kudG1wLmNvdW50X3N2Zz49aS5wYXJ0aWNsZXMubnVtYmVyLnZhbHVlPyhpLmZuLnBhcnRpY2xlc0RyYXcoKSxpLnBhcnRpY2xlcy5tb3ZlLmVuYWJsZT9pLmZuLmRyYXdBbmltRnJhbWU9cmVxdWVzdEFuaW1GcmFtZShpLmZuLnZlbmRvcnMuZHJhdyk6Y2FuY2VsUmVxdWVzdEFuaW1GcmFtZShpLmZuLmRyYXdBbmltRnJhbWUpKTppLnRtcC5pbWdfZXJyb3J8fChpLmZuLmRyYXdBbmltRnJhbWU9cmVxdWVzdEFuaW1GcmFtZShpLmZuLnZlbmRvcnMuZHJhdykpOnZvaWQgMCE9aS50bXAuaW1nX29iaj8oaS5mbi5wYXJ0aWNsZXNEcmF3KCksaS5wYXJ0aWNsZXMubW92ZS5lbmFibGU/aS5mbi5kcmF3QW5pbUZyYW1lPXJlcXVlc3RBbmltRnJhbWUoaS5mbi52ZW5kb3JzLmRyYXcpOmNhbmNlbFJlcXVlc3RBbmltRnJhbWUoaS5mbi5kcmF3QW5pbUZyYW1lKSk6aS50bXAuaW1nX2Vycm9yfHwoaS5mbi5kcmF3QW5pbUZyYW1lPXJlcXVlc3RBbmltRnJhbWUoaS5mbi52ZW5kb3JzLmRyYXcpKTooaS5mbi5wYXJ0aWNsZXNEcmF3KCksaS5wYXJ0aWNsZXMubW92ZS5lbmFibGU/aS5mbi5kcmF3QW5pbUZyYW1lPXJlcXVlc3RBbmltRnJhbWUoaS5mbi52ZW5kb3JzLmRyYXcpOmNhbmNlbFJlcXVlc3RBbmltRnJhbWUoaS5mbi5kcmF3QW5pbUZyYW1lKSl9LGkuZm4udmVuZG9ycy5jaGVja0JlZm9yZURyYXc9ZnVuY3Rpb24oKXtcImltYWdlXCI9PWkucGFydGljbGVzLnNoYXBlLnR5cGU/XCJzdmdcIj09aS50bXAuaW1nX3R5cGUmJnZvaWQgMD09aS50bXAuc291cmNlX3N2Zz9pLnRtcC5jaGVja0FuaW1GcmFtZT1yZXF1ZXN0QW5pbUZyYW1lKGNoZWNrKTooY2FuY2VsUmVxdWVzdEFuaW1GcmFtZShpLnRtcC5jaGVja0FuaW1GcmFtZSksaS50bXAuaW1nX2Vycm9yfHwoaS5mbi52ZW5kb3JzLmluaXQoKSxpLmZuLnZlbmRvcnMuZHJhdygpKSk6KGkuZm4udmVuZG9ycy5pbml0KCksaS5mbi52ZW5kb3JzLmRyYXcoKSl9LGkuZm4udmVuZG9ycy5pbml0PWZ1bmN0aW9uKCl7aS5mbi5yZXRpbmFJbml0KCksaS5mbi5jYW52YXNJbml0KCksaS5mbi5jYW52YXNTaXplKCksaS5mbi5jYW52YXNQYWludCgpLGkuZm4ucGFydGljbGVzQ3JlYXRlKCksaS5mbi52ZW5kb3JzLmRlbnNpdHlBdXRvUGFydGljbGVzKCksaS5wYXJ0aWNsZXMubGluZV9saW5rZWQuY29sb3JfcmdiX2xpbmU9aGV4VG9SZ2IoaS5wYXJ0aWNsZXMubGluZV9saW5rZWQuY29sb3IpfSxpLmZuLnZlbmRvcnMuc3RhcnQ9ZnVuY3Rpb24oKXtpc0luQXJyYXkoXCJpbWFnZVwiLGkucGFydGljbGVzLnNoYXBlLnR5cGUpPyhpLnRtcC5pbWdfdHlwZT1pLnBhcnRpY2xlcy5zaGFwZS5pbWFnZS5zcmMuc3Vic3RyKGkucGFydGljbGVzLnNoYXBlLmltYWdlLnNyYy5sZW5ndGgtMyksaS5mbi52ZW5kb3JzLmxvYWRJbWcoaS50bXAuaW1nX3R5cGUpKTppLmZuLnZlbmRvcnMuY2hlY2tCZWZvcmVEcmF3KCl9LGkuZm4udmVuZG9ycy5ldmVudHNMaXN0ZW5lcnMoKSxpLmZuLnZlbmRvcnMuc3RhcnQoKX07T2JqZWN0LmRlZXBFeHRlbmQ9ZnVuY3Rpb24oZSxhKXtmb3IodmFyIHQgaW4gYSlhW3RdJiZhW3RdLmNvbnN0cnVjdG9yJiZhW3RdLmNvbnN0cnVjdG9yPT09T2JqZWN0PyhlW3RdPWVbdF18fHt9LGFyZ3VtZW50cy5jYWxsZWUoZVt0XSxhW3RdKSk6ZVt0XT1hW3RdO3JldHVybiBlfSx3aW5kb3cucmVxdWVzdEFuaW1GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDFlMy82MCl9fSgpLHdpbmRvdy5jYW5jZWxSZXF1ZXN0QW5pbUZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZXx8Y2xlYXJUaW1lb3V0fSgpLHdpbmRvdy5wSlNEb209W10sd2luZG93LnBhcnRpY2xlc0pTPWZ1bmN0aW9uKGUsYSl7XCJzdHJpbmdcIiE9dHlwZW9mIGUmJihhPWUsZT1cInBhcnRpY2xlcy1qc1wiKSxlfHwoZT1cInBhcnRpY2xlcy1qc1wiKTt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSxpPVwicGFydGljbGVzLWpzLWNhbnZhcy1lbFwiLHM9dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpO2lmKHMubGVuZ3RoKWZvcig7cy5sZW5ndGg+MDspdC5yZW1vdmVDaGlsZChzWzBdKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO24uY2xhc3NOYW1lPWksbi5zdHlsZS53aWR0aD1cIjEwMCVcIixuLnN0eWxlLmhlaWdodD1cIjEwMCVcIjt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5hcHBlbmRDaGlsZChuKTtudWxsIT1yJiZwSlNEb20ucHVzaChuZXcgcEpTKGUsYSkpfSx3aW5kb3cucGFydGljbGVzSlMubG9hZD1mdW5jdGlvbihlLGEsdCl7dmFyIGk9bmV3IFhNTEh0dHBSZXF1ZXN0O2kub3BlbihcIkdFVFwiLGEpLGkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEpe2lmKDQ9PWkucmVhZHlTdGF0ZSlpZigyMDA9PWkuc3RhdHVzKXt2YXIgcz1KU09OLnBhcnNlKGEuY3VycmVudFRhcmdldC5yZXNwb25zZSk7d2luZG93LnBhcnRpY2xlc0pTKGUscyksdCYmdCgpfWVsc2UgY29uc29sZS5sb2coXCJFcnJvciBwSlMgLSBYTUxIdHRwUmVxdWVzdCBzdGF0dXM6IFwiK2kuc3RhdHVzKSxjb25zb2xlLmxvZyhcIkVycm9yIHBKUyAtIEZpbGUgY29uZmlnIG5vdCBmb3VuZFwiKX0saS5zZW5kKCl9OyIsInZhciBpbml0UGhvdG9Td2lwZUZyb21ET00gPSBmdW5jdGlvbiAoZ2FsbGVyeVNlbGVjdG9yKSB7XHJcblxyXG4gICAvLyBwYXJzZSBzbGlkZSBkYXRhICh1cmwsIHRpdGxlLCBzaXplIC4uLikgZnJvbSBET00gZWxlbWVudHMgXHJcbiAgIC8vIChjaGlsZHJlbiBvZiBnYWxsZXJ5U2VsZWN0b3IpXHJcbiAgIHZhciBwYXJzZVRodW1ibmFpbEVsZW1lbnRzID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgIHZhciB0aHVtYkVsZW1lbnRzID0gZWwuY2hpbGROb2RlcyxcclxuICAgICAgICAgbnVtTm9kZXMgPSB0aHVtYkVsZW1lbnRzLmxlbmd0aCxcclxuICAgICAgICAgaXRlbXMgPSBbXSxcclxuICAgICAgICAgZmlndXJlRWwsXHJcbiAgICAgICAgIGxpbmtFbCxcclxuICAgICAgICAgc2l6ZSxcclxuICAgICAgICAgaXRlbTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykge1xyXG5cclxuICAgICAgICAgZmlndXJlRWwgPSB0aHVtYkVsZW1lbnRzW2ldOyAvLyA8ZmlndXJlPiBlbGVtZW50XHJcblxyXG4gICAgICAgICAvLyBpbmNsdWRlIG9ubHkgZWxlbWVudCBub2RlcyBcclxuICAgICAgICAgaWYgKGZpZ3VyZUVsLm5vZGVUeXBlICE9PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICBsaW5rRWwgPSBmaWd1cmVFbC5jaGlsZHJlblswXTsgLy8gPGE+IGVsZW1lbnRcclxuXHJcbiAgICAgICAgIHNpemUgPSBsaW5rRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNpemUnKS5zcGxpdCgneCcpO1xyXG5cclxuICAgICAgICAgLy8gY3JlYXRlIHNsaWRlIG9iamVjdFxyXG4gICAgICAgICBpdGVtID0ge1xyXG4gICAgICAgICAgICBzcmM6IGxpbmtFbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSxcclxuICAgICAgICAgICAgdzogcGFyc2VJbnQoc2l6ZVswXSwgMTApLFxyXG4gICAgICAgICAgICBoOiBwYXJzZUludChzaXplWzFdLCAxMClcclxuICAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICAgaWYgKGZpZ3VyZUVsLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgLy8gPGZpZ2NhcHRpb24+IGNvbnRlbnRcclxuICAgICAgICAgICAgaXRlbS50aXRsZSA9IGZpZ3VyZUVsLmNoaWxkcmVuWzFdLmlubmVySFRNTDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgaWYgKGxpbmtFbC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIDxpbWc+IHRodW1ibmFpbCBlbGVtZW50LCByZXRyaWV2aW5nIHRodW1ibmFpbCB1cmxcclxuICAgICAgICAgICAgaXRlbS5tc3JjID0gbGlua0VsLmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIGl0ZW0uZWwgPSBmaWd1cmVFbDsgLy8gc2F2ZSBsaW5rIHRvIGVsZW1lbnQgZm9yIGdldFRodW1iQm91bmRzRm5cclxuICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICB9O1xyXG5cclxuICAgLy8gZmluZCBuZWFyZXN0IHBhcmVudCBlbGVtZW50XHJcbiAgIHZhciBjbG9zZXN0ID0gZnVuY3Rpb24gY2xvc2VzdChlbCwgZm4pIHtcclxuICAgICAgcmV0dXJuIGVsICYmIChmbihlbCkgPyBlbCA6IGNsb3Nlc3QoZWwucGFyZW50Tm9kZSwgZm4pKTtcclxuICAgfTtcclxuXHJcbiAgIC8vIHRyaWdnZXJzIHdoZW4gdXNlciBjbGlja3Mgb24gdGh1bWJuYWlsXHJcbiAgIHZhciBvblRodW1ibmFpbHNDbGljayA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZhciBlVGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG5cclxuICAgICAgLy8gZmluZCByb290IGVsZW1lbnQgb2Ygc2xpZGVcclxuICAgICAgdmFyIGNsaWNrZWRMaXN0SXRlbSA9IGNsb3Nlc3QoZVRhcmdldCwgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgIHJldHVybiAoZWwudGFnTmFtZSAmJiBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdGSUdVUkUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWNsaWNrZWRMaXN0SXRlbSkge1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZpbmQgaW5kZXggb2YgY2xpY2tlZCBpdGVtIGJ5IGxvb3BpbmcgdGhyb3VnaCBhbGwgY2hpbGQgbm9kZXNcclxuICAgICAgLy8gYWx0ZXJuYXRpdmVseSwgeW91IG1heSBkZWZpbmUgaW5kZXggdmlhIGRhdGEtIGF0dHJpYnV0ZVxyXG4gICAgICB2YXIgY2xpY2tlZEdhbGxlcnkgPSBjbGlja2VkTGlzdEl0ZW0ucGFyZW50Tm9kZSxcclxuICAgICAgICAgY2hpbGROb2RlcyA9IGNsaWNrZWRMaXN0SXRlbS5wYXJlbnROb2RlLmNoaWxkTm9kZXMsXHJcbiAgICAgICAgIG51bUNoaWxkTm9kZXMgPSBjaGlsZE5vZGVzLmxlbmd0aCxcclxuICAgICAgICAgbm9kZUluZGV4ID0gMCxcclxuICAgICAgICAgaW5kZXg7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNoaWxkTm9kZXM7IGkrKykge1xyXG4gICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSAhPT0gMSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0gPT09IGNsaWNrZWRMaXN0SXRlbSkge1xyXG4gICAgICAgICAgICBpbmRleCA9IG5vZGVJbmRleDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgbm9kZUluZGV4Kys7XHJcbiAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgLy8gb3BlbiBQaG90b1N3aXBlIGlmIHZhbGlkIGluZGV4IGZvdW5kXHJcbiAgICAgICAgIG9wZW5QaG90b1N3aXBlKGluZGV4LCBjbGlja2VkR2FsbGVyeSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICB9O1xyXG5cclxuICAgLy8gcGFyc2UgcGljdHVyZSBpbmRleCBhbmQgZ2FsbGVyeSBpbmRleCBmcm9tIFVSTCAoIyZwaWQ9MSZnaWQ9MilcclxuICAgdmFyIHBob3Rvc3dpcGVQYXJzZUhhc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICBwYXJhbXMgPSB7fTtcclxuXHJcbiAgICAgIGlmIChoYXNoLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHZhcnMgPSBoYXNoLnNwbGl0KCcmJyk7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICBpZiAoIXZhcnNbaV0pIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgIGlmIChwYWlyLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgcGFyYW1zW3BhaXJbMF1dID0gcGFpclsxXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmFtcy5naWQpIHtcclxuICAgICAgICAgcGFyYW1zLmdpZCA9IHBhcnNlSW50KHBhcmFtcy5naWQsIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgfTtcclxuXHJcbiAgIHZhciBvcGVuUGhvdG9Td2lwZSA9IGZ1bmN0aW9uIChpbmRleCwgZ2FsbGVyeUVsZW1lbnQsIGRpc2FibGVBbmltYXRpb24sIGZyb21VUkwpIHtcclxuICAgICAgdmFyIHBzd3BFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBzd3AnKVswXSxcclxuICAgICAgICAgZ2FsbGVyeSxcclxuICAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICAgaXRlbXM7XHJcblxyXG4gICAgICBpdGVtcyA9IHBhcnNlVGh1bWJuYWlsRWxlbWVudHMoZ2FsbGVyeUVsZW1lbnQpO1xyXG5cclxuICAgICAgLy8gZGVmaW5lIG9wdGlvbnMgKGlmIG5lZWRlZClcclxuICAgICAgb3B0aW9ucyA9IHtcclxuXHJcbiAgICAgICAgIC8vIGRlZmluZSBnYWxsZXJ5IGluZGV4IChmb3IgVVJMKVxyXG4gICAgICAgICBnYWxsZXJ5VUlEOiBnYWxsZXJ5RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHN3cC11aWQnKSxcclxuXHJcbiAgICAgICAgIGdldFRodW1iQm91bmRzRm46IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAvLyBTZWUgT3B0aW9ucyAtPiBnZXRUaHVtYkJvdW5kc0ZuIHNlY3Rpb24gb2YgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvXHJcbiAgICAgICAgICAgIHZhciB0aHVtYm5haWwgPSBpdGVtc1tpbmRleF0uZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdLCAvLyBmaW5kIHRodW1ibmFpbFxyXG4gICAgICAgICAgICAgICBwYWdlWVNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxyXG4gICAgICAgICAgICAgICByZWN0ID0gdGh1bWJuYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgeDogcmVjdC5sZWZ0LFxyXG4gICAgICAgICAgICAgICB5OiByZWN0LnRvcCArIHBhZ2VZU2Nyb2xsLFxyXG4gICAgICAgICAgICAgICB3OiByZWN0LndpZHRoXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBQaG90b1N3aXBlIG9wZW5lZCBmcm9tIFVSTFxyXG4gICAgICBpZiAoZnJvbVVSTCkge1xyXG4gICAgICAgICBpZiAob3B0aW9ucy5nYWxsZXJ5UElEcykge1xyXG4gICAgICAgICAgICAvLyBwYXJzZSByZWFsIGluZGV4IHdoZW4gY3VzdG9tIFBJRHMgYXJlIHVzZWQgXHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9waG90b3N3aXBlLmNvbS9kb2N1bWVudGF0aW9uL2ZhcS5odG1sI2N1c3RvbS1waWQtaW4tdXJsXHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaXRlbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2pdLnBpZCA9PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmluZGV4ID0gajtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpbiBVUkwgaW5kZXhlcyBzdGFydCBmcm9tIDFcclxuICAgICAgICAgICAgb3B0aW9ucy5pbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCkgLSAxO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIG9wdGlvbnMuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBleGl0IGlmIGluZGV4IG5vdCBmb3VuZFxyXG4gICAgICBpZiAoaXNOYU4ob3B0aW9ucy5pbmRleCkpIHtcclxuICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlzYWJsZUFuaW1hdGlvbikge1xyXG4gICAgICAgICBvcHRpb25zLnNob3dBbmltYXRpb25EdXJhdGlvbiA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhc3MgZGF0YSB0byBQaG90b1N3aXBlIGFuZCBpbml0aWFsaXplIGl0XHJcbiAgICAgIGdhbGxlcnkgPSBuZXcgUGhvdG9Td2lwZShwc3dwRWxlbWVudCwgUGhvdG9Td2lwZVVJX0RlZmF1bHQsIGl0ZW1zLCBvcHRpb25zKTtcclxuICAgICAgZ2FsbGVyeS5pbml0KCk7XHJcbiAgIH07XHJcblxyXG4gICAvLyBsb29wIHRocm91Z2ggYWxsIGdhbGxlcnkgZWxlbWVudHMgYW5kIGJpbmQgZXZlbnRzXHJcbiAgIHZhciBnYWxsZXJ5RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGdhbGxlcnlTZWxlY3Rvcik7XHJcblxyXG4gICBmb3IgKHZhciBpID0gMCwgbCA9IGdhbGxlcnlFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgZ2FsbGVyeUVsZW1lbnRzW2ldLnNldEF0dHJpYnV0ZSgnZGF0YS1wc3dwLXVpZCcsIGkgKyAxKTtcclxuICAgICAgZ2FsbGVyeUVsZW1lbnRzW2ldLm9uY2xpY2sgPSBvblRodW1ibmFpbHNDbGljaztcclxuICAgfVxyXG5cclxuICAgLy8gUGFyc2UgVVJMIGFuZCBvcGVuIGdhbGxlcnkgaWYgaXQgY29udGFpbnMgIyZwaWQ9MyZnaWQ9MVxyXG4gICB2YXIgaGFzaERhdGEgPSBwaG90b3N3aXBlUGFyc2VIYXNoKCk7XHJcbiAgIGlmIChoYXNoRGF0YS5waWQgJiYgaGFzaERhdGEuZ2lkKSB7XHJcbiAgICAgIG9wZW5QaG90b1N3aXBlKGhhc2hEYXRhLnBpZCwgZ2FsbGVyeUVsZW1lbnRzW2hhc2hEYXRhLmdpZCAtIDFdLCB0cnVlLCB0cnVlKTtcclxuICAgfVxyXG59O1xyXG5cclxuLy8gc2Nyb2xsIHN1YXZlXHJcbmZ1bmN0aW9uIHNtb290aFNjcm9sbChsb2NhdGlvbikge1xyXG4gICBpZiAobG9jYXRpb24pIHtcclxuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBsb2NhdGlvbik7XHJcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gICAgICAgICBibG9jazogXCJzdGFydFwiLFxyXG4gICAgICAgICBpbmxpbmU6IFwibmVhcmVzdFwiXHJcbiAgICAgIH0pO1xyXG4gICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVmFyacOhdmVsICdsb2NhdGlvbicgbsOjbyBwYXNzYWRhIG5vIGV2ZW50byBkZSAnY2xpY2snXCIpO1xyXG59XHJcblxyXG4vLyBpbml0IHNjcm9sbCByZXZlYWxcclxuZnVuY3Rpb24gaW5pdENvbXBvbmVudHMoKSB7XHJcbiAgIHdpbmRvdy5zciA9IFNjcm9sbFJldmVhbCgpO1xyXG5cclxuICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRpb24tZGVmYXVsdCcpLmxlbmd0aCA+IDApXHJcbiAgICAgIHNyLnJldmVhbCgnLmFuaW1hdGlvbi1kZWZhdWx0Jywge1xyXG4gICAgICAgICBkdXJhdGlvbjogMTUwMFxyXG4gICAgICB9KTtcclxuICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRpb24tY29tb0Z1bmNpb25hJykubGVuZ3RoID4gMClcclxuICAgICAgc3IucmV2ZWFsKCcuYW5pbWF0aW9uLWNvbW9GdW5jaW9uYScsIHtcclxuICAgICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgICAgfSwgNTAwKTtcclxuICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbmltYXRpb24tbW9kdWxvc1NlcnZpY29zJykubGVuZ3RoID4gMClcclxuICAgICAgc3IucmV2ZWFsKCcuYW5pbWF0aW9uLW1vZHVsb3NTZXJ2aWNvcycsIHtcclxuICAgICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgICAgfSwgNTAwKTtcclxuXHJcbiAgIC8vIGluaXQgZ2FsZXJpYVxyXG4gICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnknKS5sZW5ndGggPiAwKVxyXG4gICAgICBpbml0UGhvdG9Td2lwZUZyb21ET00oJy5nYWxsZXJ5Jyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRQYXJ0aWN1bGFzQkcoKSB7XHJcbiAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjNTM1MzUzXCI7XHJcbiAgIGlmIChwSlNEb20ubGVuZ3RoID09IDEpIHtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJ0aWNsZXMtanNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgcEpTRG9tWzBdLnBKUy5mbi52ZW5kb3JzLnN0YXJ0KCk7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFydGljbGVzLWpzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIHBhcnRpY2xlc0pTKFwicGFydGljbGVzLWpzXCIsIHtcclxuXHJcbiAgICAgICAgIFwicGFydGljbGVzXCI6IHtcclxuICAgICAgICAgICAgXCJudW1iZXJcIjoge1xyXG4gICAgICAgICAgICAgICBcInZhbHVlXCI6IDgwLFxyXG4gICAgICAgICAgICAgICBcImRlbnNpdHlcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImVuYWJsZVwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICBcInZhbHVlX2FyZWFcIjogMTAwMFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiY29sb3JcIjoge1xyXG4gICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiI2ZmZlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwic2hhcGVcIjoge1xyXG4gICAgICAgICAgICAgICBcInR5cGVcIjogXCJjaXJjbGVcIixcclxuICAgICAgICAgICAgICAgXCJzdHJva2VcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMDAwMDAwXCJcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgXCJwb2x5Z29uXCI6IHtcclxuICAgICAgICAgICAgICAgICAgXCJuYl9zaWRlc1wiOiA1XHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgIFwiaW1hZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcInNyY1wiOiBcImh0dHA6Ly9pbWFnZS5pYmIuY28vZzllRmNGL2xvZ29fdHJhbnNwYXJlbnQucG5nXCIsXHJcbiAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogMTAwLFxyXG4gICAgICAgICAgICAgICAgICBcImhlaWdodFwiOiAxMDBcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm9wYWNpdHlcIjoge1xyXG4gICAgICAgICAgICAgICBcInZhbHVlXCI6IDEsXHJcbiAgICAgICAgICAgICAgIFwicmFuZG9tXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICBcImFuaW1cIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImVuYWJsZVwiOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgXCJzcGVlZFwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICBcIm9wYWNpdHlfbWluXCI6IDAuNixcclxuICAgICAgICAgICAgICAgICAgXCJzeW5jXCI6IGZhbHNlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJzaXplXCI6IHtcclxuICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAzLFxyXG4gICAgICAgICAgICAgICBcInJhbmRvbVwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICBcImFuaW1cIjoge1xyXG4gICAgICAgICAgICAgICAgICBcImVuYWJsZVwiOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgXCJzcGVlZFwiOiA0MCxcclxuICAgICAgICAgICAgICAgICAgXCJzaXplX21pblwiOiAwLjEsXHJcbiAgICAgICAgICAgICAgICAgIFwic3luY1wiOiBmYWxzZVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibGluZV9saW5rZWRcIjoge1xyXG4gICAgICAgICAgICAgICBcImVuYWJsZVwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICBcImRpc3RhbmNlXCI6IDEyMCxcclxuICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNmYTc1MDBcIixcclxuICAgICAgICAgICAgICAgXCJvcGFjaXR5XCI6IDAuOCxcclxuICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibW92ZVwiOiB7XHJcbiAgICAgICAgICAgICAgIFwiZW5hYmxlXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgIFwic3BlZWRcIjogNCxcclxuICAgICAgICAgICAgICAgXCJkaXJlY3Rpb25cIjogXCJyYW5kb21cIixcclxuICAgICAgICAgICAgICAgXCJyYW5kb21cIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgIFwic3RyYWlnaHRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgIFwib3V0X21vZGVcIjogXCJib3VuY2VcIixcclxuICAgICAgICAgICAgICAgXCJib3VuY2VcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgXCJhdHRyYWN0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgXCJlbmFibGVcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgXCJyb3RhdGVYXCI6IDM2MDAsXHJcbiAgICAgICAgICAgICAgICAgIFwicm90YXRlWVwiOiAzNjAwXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9LFxyXG5cclxuICAgICAgICAgXCJpbnRlcmFjdGl2aXR5XCI6IHtcclxuICAgICAgICAgICAgXCJkZXRlY3Rfb25cIjogXCJjYW52YXNcIixcclxuXHJcbiAgICAgICAgICAgIFwiZXZlbnRzXCI6IHtcclxuICAgICAgICAgICAgICAgXCJvbmhvdmVyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgXCJlbmFibGVcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgXCJtb2RlXCI6IFwicmVwdWxzZVwiXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgIFwib25jbGlja1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiZW5hYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBcIm1vZGVcIjogXCJyZW1vdmVcIlxyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICBcInJlc2l6ZVwiOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBcIm1vZGVzXCI6IHtcclxuICAgICAgICAgICAgICAgXCJyZXB1bHNlXCI6IHtcclxuICAgICAgICAgICAgICAgICAgXCJkaXN0YW5jZVwiOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgIFwiZHVyYXRpb25cIjogMC40XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9LFxyXG4gICAgICAgICBcInJldGluYV9kZXRlY3RcIjogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZXN0cm95UGFydGljdWxhc0JHKCkge1xyXG4gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1qc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xyXG4gICBjYW5jZWxSZXF1ZXN0QW5pbUZyYW1lKHBKU0RvbVswXS5wSlMuZm4uY2hlY2tBbmltRnJhbWUpO1xyXG4gICBjYW5jZWxSZXF1ZXN0QW5pbUZyYW1lKHBKU0RvbVswXS5wSlMuZm4uZHJhd0FuaW1GcmFtZSk7XHJcbiAgIHBKU0RvbVswXS5wSlMuZm4ucGFydGljbGVzRW1wdHkoKTtcclxuICAgcEpTRG9tWzBdLnBKUy5mbi5jYW52YXNDbGVhcigpO1xyXG59IiwiZnVuY3Rpb24gJGlkKGlkKSB7XG4gICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xufVxuXG5mdW5jdGlvbiBnZXROYXZCYXIodmlldykge1xuICAgdmFyIG5hdkJhcl9jb2xvcjtcblxuICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICBjYXNlIFwiaG9tZVwiOlxuICAgICAgICAgbmF2QmFyX2NvbG9yID0gXCIjZmI4YzAwYmFcIjtcbiAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIndlYlwiOlxuICAgICAgICAgbmF2QmFyX2NvbG9yID0gXCJyZ2IoMCwgMTIyLCAyNTApXCI7XG4gICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCIzZFwiOlxuICAgICAgICAgbmF2QmFyX2NvbG9yID0gXCJyZ2IoODgsIDg2LCAyMTQpXCI7XG4gICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgbmF2QmFyX2NvbG9yID0gXCJyZ2IoMjU1LCA1OSwgNDgpXCI7XG4gICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZXNpZ25cIjpcbiAgICAgICAgIG5hdkJhcl9jb2xvciA9IFwicmdiKDc2LCAyMTcsIDEwMClcIjtcbiAgICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgIG5hdkJhcl9jb2xvciA9IFwiI2ZiOGMwMFwiO1xuICAgICAgICAgYnJlYWs7XG4gICB9XG5cbiAgIHJldHVybiBgXG4gICAgICA8bmF2IGNsYXNzPVwibmF2IHN0cm9rZUVmZmVjdFwiIHN0eWxlPVwiYmFja2dyb3VuZDoke25hdkJhcl9jb2xvcn1cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJuYXYtaGVhZGVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwibmF2LWhlYWRlci10aXRsZVwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaW1nLzExQXJ0X1doaXRlLnN2Z1wiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI4MFwiIGFsdD1cIlwiPiA8L2E+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5hdi1tb2JpbGVCdG5cIj5cbiAgICAgICAgIDxsYWJlbCBmb3I9XCJuYXYtbW9iaWxlQnRuVG9vZ2xlXCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cIm5hdi1tb2JpbGVCdG4tdG9vZ2xlVGV4dFwiPk1lbnU8L3A+XG4gICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJuYXYtbW9iaWxlQnRuVG9vZ2xlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibmF2LWxpbmtzXCI+XG4gICAgICAgICA8aW1nIGNsYXNzPVwibmF2LWxpbmtzLWxvZ29cIiBzcmM9XCJpbWcvMTFBcnRfV2hpdGUuc3ZnXCIgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjgwXCIgYWx0PVwiXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwibmF2LWxpbmtzLWJ0bkZlY2hhclwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5hdi1tb2JpbGVCdG5Ub29nbGVcIj5GZWNoYXIgWDwvbGFiZWw+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDxocj5cbiAgICAgICAgIDxhIGhyZWY9XCIjIWhvbWVcIj5IT01FPC9hPlxuICAgICAgICAgPGEgaHJlZj1cIiMhc2Vydmljb3NcIj5TRVJWScOHT1M8L2E+XG4gICAgICAgICA8YSBocmVmPVwiIyFwb3J0Zm9saW9cIj5QT1JURk9MSU88L2E+XG4gICAgICAgICA8YSBocmVmPVwiIyFzb2JyZW5vc1wiPlNPQlJFIE7Dk1M8L2E+XG4gICAgICAgICA8YSBjbGFzcz1cIm10bi00XCIgaHJlZj1cIiMhY29udGF0b1wiPkNPTlRBVE88L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDwvbmF2PlxuICAgYDtcbn1cblxuZnVuY3Rpb24gbG9hZEhUTUwodXJsLCBpZCwgdmlldykge1xuICAgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICByZXEub3BlbignR0VUJywgdXJsKTtcbiAgIHJlcS5zZW5kKCk7XG4gICByZXEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5hdmJhciA9IGdldE5hdkJhcih2aWV3KTtcbiAgICAgICRpZChpZCkuaW5uZXJIVE1MID0gbmF2YmFyICsgcmVxLnJlc3BvbnNlVGV4dDsgLy8gSW5zZXJlIG5vIEhUTUxcbiAgICAgIGluaXRDb21wb25lbnRzKCk7IC8vIEluaWNpYXIgR2FsZXJpYSBlIEFuaW1hw6fDtWVzIHN1YXZlc1xuICAgICAgc21vb3RoU2Nyb2xsKFwidmlld1wiKTsgLy8gVsOhIHBhcmEgbyB0b3BvXG4gICAgICB2aWV3ID09IFwiaG9tZVwiID8gaW5pdFBhcnRpY3VsYXNCRygpIDogZGVzdHJveVBhcnRpY3VsYXNCRygpOyAvLyBDb25zdHLDs2kvRGVzdHLDs2kgcGFydGljdWxhcyBiYXNlYWRvIG5hIHZpZXdcbiAgIH07XG59XG5cbi8vIHVzZSAjISB0byBoYXNoXG5yb3V0ZXIgPSBuZXcgTmF2aWdvKG51bGwsIHRydWUsICcjIScpO1xucm91dGVyLm9uKHtcbiAgIC8vICd2aWV3JyBpcyB0aGUgaWQgb2YgdGhlIGRpdiBlbGVtZW50IGluc2lkZSB3aGljaCB3ZSByZW5kZXIgdGhlIEhUTUxcbiAgICdob21lJzogZnVuY3Rpb24gaG9tZSgpIHtcbiAgICAgIGxvYWRIVE1MKCcuL2hvbWUuaHRtbCcsICd2aWV3JywgXCJob21lXCIpO1xuICAgfSxcbiAgICdkZXNpZ24nOiBmdW5jdGlvbiBkZXNpZ24oKSB7XG4gICAgICBsb2FkSFRNTCgnLi9kZXNpZ24uaHRtbCcsICd2aWV3JywgXCJkZXNpZ25cIik7XG4gICB9LFxuICAgJzNkJzogZnVuY3Rpb24gZGVzaWduKCkge1xuICAgICAgbG9hZEhUTUwoJy4vM2QuaHRtbCcsICd2aWV3JywgXCIzZFwiKTtcbiAgIH0sXG4gICAnd2ViJzogZnVuY3Rpb24gZGVzaWduKCkge1xuICAgICAgbG9hZEhUTUwoJy4vd2ViLmh0bWwnLCAndmlldycsIFwid2ViXCIpO1xuICAgfSxcbiAgICd2aWRlbyc6IGZ1bmN0aW9uIGRlc2lnbigpIHtcbiAgICAgIGxvYWRIVE1MKCcuL3ZpZGVvLmh0bWwnLCAndmlldycsIFwidmlkZW9cIik7XG4gICB9LFxuICAgJ3NvYnJlbm9zJzogZnVuY3Rpb24gZGVzaWduKCkge1xuICAgICAgbG9hZEhUTUwoJy4vc29icmVub3MuaHRtbCcsICd2aWV3JywgXCJzb2JyZW5vc1wiKTtcbiAgIH0sXG4gICAnY29udGF0byc6IGZ1bmN0aW9uIGRlc2lnbigpIHtcbiAgICAgIGxvYWRIVE1MKCcuL2NvbnRhdG8uaHRtbCcsICd2aWV3JywgXCJjb250YXRvXCIpO1xuICAgfSxcbiAgICdwb3J0Zm9saW8nOiBmdW5jdGlvbiBkZXNpZ24oKSB7XG4gICAgICBsb2FkSFRNTCgnLi9wb3J0Zm9saW8uaHRtbCcsICd2aWV3JywgXCJwb3J0Zm9saW9cIik7XG4gICB9LFxuICAgJ3NlcnZpY29zJzogZnVuY3Rpb24gZGVzaWduKCkge1xuICAgICAgbG9hZEhUTUwoJy4vc2Vydmljb3MuaHRtbCcsICd2aWV3JywgXCJzZXJ2aWNvc1wiKTtcbiAgIH0sXG59KTtcblxuLy8gc2V0IHRoZSBkZWZhdWx0IHJvdXRlXG5yb3V0ZXIub24oZnVuY3Rpb24gKCkge1xuICAgJGlkKCd2aWV3JykuaW5uZXJIVE1MID0gbG9hZEhUTUwoJy4vaG9tZS5odG1sJywgJ3ZpZXcnLCBcImhvbWVcIik7XG59KTtcblxuLy8gc2V0IHRoZSA0MDQgcm91dGVcbnJvdXRlci5ub3RGb3VuZChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICRpZCgndmlldycpLmlubmVySFRNTCA9ICc8aDE+VE9ETyAtIE5PVEZPVU5EPC9oMT4nO1xufSk7XG5cbnJvdXRlci5yZXNvbHZlKCk7IiwiZnVuY3Rpb24gcG9ydGZvbGlvRmlsdHJhcihtb2R1bG8pe1xyXG4gICB2YXIgbW9kdWxvc0Rlc2lnbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FsbGVyeS1kZXNpZ25cIik7XHJcbiAgIHZhciBtb2R1bG9zM2QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbGxlcnktM2RcIik7XHJcbiAgIHZhciBtb2R1bG9zV2ViID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYWxsZXJ5LXdlYlwiKTtcclxuICAgdmFyIG1vZHVsb3NWaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FsbGVyeS12aWRlb1wiKTtcclxuICAgdmFyIG1vZHVsb3NUT0RPUyA9IFttb2R1bG9zRGVzaWduLCBtb2R1bG9zM2QsIG1vZHVsb3NXZWIsIG1vZHVsb3NWaWRlb107XHJcblxyXG4gICBlc2NvbmRlTW9kdWxvcyhtb2R1bG9zVE9ET1MpO1xyXG5cclxuICAgc3dpdGNoIChtb2R1bG8pIHtcclxuICAgICAgY2FzZSBcIjNkXCI6XHJcbiAgICAgICAgIG1vc3RyYU1vZHVsbyhtb2R1bG9zM2QpO1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJ2aWRlb1wiOlxyXG4gICAgICAgICBtb3N0cmFNb2R1bG8obW9kdWxvc1ZpZGVvKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwid2ViXCI6XHJcbiAgICAgICAgIG1vc3RyYU1vZHVsbyhtb2R1bG9zV2ViKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiZGVzaWduXCI6XHJcbiAgICAgICAgIG1vc3RyYU1vZHVsbyhtb2R1bG9zRGVzaWduKTtcclxuICAgICAgYnJlYWs7XHJcbiAgIFxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgICBtb3N0cmFUb2Rvc01vZHVsb3MobW9kdWxvc1RPRE9TKTtcclxuICAgICAgYnJlYWs7XHJcbiAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXNjb25kZU1vZHVsb3MobW9kdWxvc1RPRE9TKXtcclxuICAgbW9kdWxvc1RPRE9TLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihlbCl7XHJcbiAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LW5vbmVcIik7XHJcbiAgICAgIH0pO1xyXG4gICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbW9zdHJhTW9kdWxvKG1vZHVsbyl7XHJcbiAgIG1vZHVsby5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW5vbmVcIik7XHJcbiAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtb3N0cmFUb2Rvc01vZHVsb3MobW9kdWxvc1RPRE9TKXtcclxuICAgbW9kdWxvc1RPRE9TLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihlbCl7XHJcbiAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW5vbmVcIik7XHJcbiAgICAgIH0pO1xyXG4gICB9KTsgICBcclxufSJdfQ==
